function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}define("modules/listProperty/scripts/services/notification",[],function(){var e="notificationService";return Box.Application.addService(e,function(){function e(e){}var t=5e3,a=$(".notification-container"),n=($(".notification-progress"),function(){a.attr("class","notification-container");var e="show "+arguments[1]||"show",n=arguments[2]||t;a.addClass(e).find("h3").text(arguments[0]).delay(n).queue(function(t){a.removeClass(e),t()})});return{show:n,hide:e}}),Box.Application.getService(e)}),define("modules/listProperty/scripts/services/getDataFromService",["services/apiService"],function(){return Box.Application.addService("getDataFromService",function(){function e(e){var t=n();if(t){for(var i in e)t[i]=e[i];a(t)}}var t=Box.Application.getService("ApiService"),a=function(e){"undefined"!=typeof Storage?sessionStorage.listingData=JSON.stringify(e):console.log("Sorry! No Web Storage support..")},n=function(){return"undefined"!=typeof Storage&&sessionStorage.listingData?JSON.parse(sessionStorage.listingData):{}},i=function(){sessionStorage.removeItem("listingData")},o=function(e,a){if(e){var o=function(e){return e},r=function(e){return console.log("error"),{}};return i(),t.get(a).then(o,r)}return n()};return{returnData:function(e,t){return o(e,t)},storeinStorage:function(e){return a(e)},storeData:e,removeFromStorage:i}}),Box.Application.getService("getDataFromService")}),define("modules/controls/scripts/controlsService",["modules/listProperty/scripts/services/getDataFromService","services/defaultService"],function(e,t){return Box.Application.addService("controlsService",function(e){function a(e,t){var a=[];e:for(var n=0;n<e.length;n++){for(var i=0;i<t.length;i++)if(e[n].key===t[i].key)continue e;a.push(e[n])}return a}var n,i=Box.Application.getService("getDataFromService"),o={},r="-promise";o.listeners={};var s=["Vitrified Tiles","Ceramic Porcelain Tiles","Anti Skid Tiles","Marble Granite Tiles","Wooden flooring","RAK/laminated wooden flooring","Wood Finish Vinyl Flooring"],l=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],c=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],d=[{key:1,val:"",display:1},{key:2,val:"",display:2},{key:3,val:"",display:3},{key:4,val:"",display:4},{key:5,val:"",display:5},{key:6,val:"",display:6},{key:7,val:"",display:7},{key:8,val:"",display:8},{key:9,val:"",display:9},{key:10,val:"",display:10},{key:11,val:"",display:11},{key:12,val:"",display:12},{key:13,val:"",display:13},{key:14,val:"",display:14},{key:15,val:"",display:15}],u=[{key:"1 rk",val:"",display:"1 RK"}],p=[{key:"Apartment",val:"Apartment",display:"Apartment",priority:1,icon:"apartment"},{key:"BuilderFloor",val:"builder/independent floor",display:"independent / builder floor",priority:2,icon:"independent-floor"},{key:"Villa",val:"Villa",display:"Villa",priority:3,icon:"villa"},{key:"IndependentHouse",val:"Independent House",display:"Independent House",priority:4,icon:"independent-house"},{key:"Penthouse",val:"Penthouse",display:"Penthouse",priority:5,icon:"penthouse"},{key:"Studio",val:"Studio",display:"Studio",priority:6,icon:"studio"},{key:"Plot",val:"Plot",display:"Plot",priority:7,icon:"land"}],y=[{key:"Shop",val:"Shop",display:"Shop",priority:8,icon:"shop"},{key:"Office",val:"Office",display:"Office",priority:9,icon:"office"}],g=[{key:"Apartment",val:"Apartment",display:"Apartment",priority:1,icon:"apartment"},{key:"BuilderFloor",val:"builder/independent floor",display:"independent / builder floor",priority:2,icon:"independent-floor"},{key:"Hostel",val:"Hostel",display:"Hostel",priority:3,icon:"pg-hostel"},{key:"Villa",val:"Villa",display:"Villa",priority:4,icon:"villa"},{key:"IndependentHouse",val:"Independent House",display:"Independent House",priority:5,icon:"independent-house"},{key:"Penthouse",val:"Penthouse",display:"Penthouse",priority:6,icon:"penthouse"},{key:"Studio",val:"Studio",display:"Studio",priority:7,icon:"studio"}],v={key:"n/a",val:"na (for plots only)"},m=[],f={sellType:function(e){switch(e){case"true":case"Primary":return"Primary";case"Resale":case"false":return"Resale"}},status:function(e){switch(e){case"readyToMoveIn":case"Completed":case"Ready To Move In":return"readyToMoveIn";case"Under Construction":return"underConstruction";case"n/a":case v.key:return"n/a";default:return"underConstruction"}},getMapVal:function(e,t){return this[e]?this[e](t):t}},S=(n={sellType:[{key:"Primary",val:"New"},{key:"Resale",val:"Resale"}],"city-lead-price":[]},_defineProperty(n,"country-homeloan"+r,t.getCountries()),_defineProperty(n,"country-homeloan",[]),_defineProperty(n,"cities"+r,t.getCities(!0)),_defineProperty(n,"cities",[]),_defineProperty(n,"branch",[{key:"Ahmedabad",val:"Ahmedabad"},{key:"Odhav",val:"Odhav"}]),_defineProperty(n,"propertyFloorPlans",[]),_defineProperty(n,"propertyType",p),_defineProperty(n,"commercialPropertyType",y),_defineProperty(n,"pgPropertyTypes",g),_defineProperty(n,"sqft"+r,t.getUnitTypes("sqft")),_defineProperty(n,"sqft",[]),_defineProperty(n,"plotSqft"+r,t.getUnitTypes("plotSqft")),_defineProperty(n,"plotSqft",[]),_defineProperty(n,"status",[{key:"readyToMoveIn",val:"Ready To Move In"},{key:"underConstruction",val:"Under Construction"}]),_defineProperty(n,"bed",d),_defineProperty(n,"studioBed",u),_defineProperty(n,"pgBed",d.slice(1)),_defineProperty(n,"Ac",l),_defineProperty(n,"TV",l),_defineProperty(n,"Wardrobe",l),_defineProperty(n,"bedroom",l),_defineProperty(n,"bathroom",c),_defineProperty(n,"balconies",c),_defineProperty(n,"howMany",l),_defineProperty(n,"howMany2",l),_defineProperty(n,"f-no",["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"]),_defineProperty(n,"total-f",["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"]),_defineProperty(n,"openSide",["1","2","3","4"]),_defineProperty(n,"Facing",["North","South","West","East","NorthEast","NorthWest","SouthEast","SouthWest"]),_defineProperty(n,"ft",["feet","meters"]),_defineProperty(n,"propertyAge",["Less than 1 year","1 year","2 years","3 years","4 years","5 years","6 years","7 years","8 years","9 years","10 years","11 years","12 years","13 years","14 years","15 years","16 years","17 years","18 years","19 years","20 years","21 years","22 years","23 years","24 years","25 years","26 years","27 years","28 years","29 years","30 years","31 years","32 years","33 years","34 years","35 years","36 years","37 years","38 years","39 years","40 years","41 years","42 years","43 years","44 years","45 years","46 years","47 years","48 years","49 years","50 years"]),_defineProperty(n,"ownershipType",["Freehold","Power of Attorney","Leasehold","Co-Operative Society"]),_defineProperty(n,"mLiving",s),_defineProperty(n,"kitchen",s),_defineProperty(n,"mBedroom",s),_defineProperty(n,"mBathroom",s),_defineProperty(n,"mBalcony",s),_defineProperty(n,"mOther",s),_defineProperty(n,"imageTagsArray",m),_defineProperty(n,"imageTag",[]),_defineProperty(n,"rejectReason",[{key:"Duplicate listings",val:"Duplicate listings"},{key:"Once duplicate listing will not go live",val:"Once duplicate listing will not go live"},{key:"Area issue",val:"Area issue"},{key:"Price issue",val:"Price issue"},{key:"Commercial, PG, Farmhouse, Agricultural land",val:"Commercial, PG, Farmhouse, Agricultural land"},{key:"Bed/Bath room mismatch",val:"Bed/Bath room mismatch"},{key:"Customer escalation",val:"Customer escalation"},{key:"Property not available",val:"Property not available"},{key:"Developer has raised issue",val:"Developer has raised issue"},{key:"Area, Price not available in project",val:"Area, Price not available in project"},{key:"Description not relevant to listing posted",val:"Description not relevant to listing posted"},{key:"Property Type seems to be incorrect",val:"Property Type seems to be incorrect"},{key:"Locality appears to be incorrect",val:"Locality appears to be incorrect"},{key:"other",val:"Other"}]),_defineProperty(n,"masterFlooringId",[{key:1,value:"Vitrified Tiles"},{key:2,value:"Ceramic Porcelain Tiles"},{key:3,value:"Anti Skid Tiles"},{key:4,value:"Marble Granite Tiles"},{key:5,value:"Wooden flooring"},{key:6,value:"RAK/laminated wooden flooring"},{key:10,value:"Wood Finish Vinyl Flooring"}]),_defineProperty(n,"flooringAreaId",[{key:6,value:"mBalcony"},{key:7,value:"kitchen"},{key:8,value:"mLiving"},{key:9,value:"mBedroom"},{key:10,value:"mOther"},{key:11,value:"mBathroom"}]),_defineProperty(n,"additionalRoomMap",{storeRoom:"store-room",studyRoom:"study-room",poojaRoom:"prayer",servantRoom:"servant-room"}),_defineProperty(n,"imageRejectionReason",[]),_defineProperty(n,"stateList"+r,t.getStateList()),_defineProperty(n,"stateList",[]),_defineProperty(n,"hostelTotalRooms",["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"]),_defineProperty(n,"mapKeyFromMasterList",function(e,t){var a={}.toString.call(t);switch(a){case"[object String]":case"[object Number]":return this.getArrField(e,t);case"[object Object]":return this.getArrField(e,t.key);case"[object Array]":for(var n=[],i=0;i<t.length;i++){var o=this.getObjField(e,t[i]);n.push(o)}return n}}),_defineProperty(n,"findFirst",function(e,t){if(!t&&!e)return null;if(!t)return{};for(var a=0;a<e.length;a++)if(e[a].key==t)return e[a];return{key:t,val:t}}),_defineProperty(n,"getField",function(e,t){return this.findFirst(this[e],t)}),_defineProperty(n,"getObjField",function(e,t,a){var n=a?a:e,i=f.getMapVal(n,t);return this.getField(n,i)}),_defineProperty(n,"getArrField",function(e,t){var a=this.getObjField(e,t),n=[];return n.push(a),n}),_defineProperty(n,"listingSubtype",[{key:"residential",val:"Residential"},{key:"commercial",val:"Commercial"},{key:"payingGuest",val:"Paying Guest"}]),_defineProperty(n,"currentlyLeasedOut",[{key:"yes",val:"Yes"},{key:"no",val:"No"}]),_defineProperty(n,"assuredReturn",[{key:"yes",val:"Yes"},{key:"no",val:"No"}]),_defineProperty(n,"pantryType",[{key:"DRY",val:"Dry"},{key:"WET",val:"Wet"},{key:"NOT_AVAILABLE",val:"Not Available"}]),_defineProperty(n,"noOfPersonalWashrooms",["1","2","3","4","5","6","7","8","9","10"]),_defineProperty(n,"noOfSharedWashrooms",["1","2","3","4","5","6","7","8","9","10"]),_defineProperty(n,"willingToModifyInteriors",[{key:"yes",val:"Yes"},{key:"no",val:"No"}]),_defineProperty(n,"propertyAgeCommercial",["Less than 1 year","1 year","2 years","3 years","4 years","5 years","6 years","7 years","8 years","9 years","10 years","11 years","12 years","13 years","14 years","15 years","16 years","17 years","18 years","19 years","20 years","21 years","22 years","23 years","24 years","25 years","26 years","27 years","28 years","29 years","30 years","31 years","32 years","33 years","34 years","35 years","36 years","37 years","38 years","39 years","40 years","41 years","42 years","43 years","44 years","45 years","46 years","47 years","48 years","49 years","50 years"]),_defineProperty(n,"isMainRoadFacing",[{key:"yes",val:"Yes"},{key:"no",val:"No"}]),_defineProperty(n,"isCornerShop",[{key:"yes",val:"Yes"},{key:"no",val:"No"}]),_defineProperty(n,"isBoundryWallPresent",[{key:"yes",val:"Yes"},{key:"no",val:"No"}]),_defineProperty(n,"noOfLifts",["1","2","3","4","5","6","7","8","9","10"]),_defineProperty(n,"propertySuitableFor",[{key:"HOSPITAL",val:"Hospital"},{key:"IT_OFFICE",val:"IT Office"},{key:"BPO",val:"Call Center/BPO"},{key:"RETAIL_OUTLET",val:"Retail Outlet"},{key:"RESTAURANT",val:"Restaurant"},{key:"PRIVATE_OFFICE",val:"Private Office"},{key:"OTHERS",val:"Others"}]),_defineProperty(n,"cuisineType",[{key:"1",val:"Vegeterian"},{key:"2",val:"Non- Vegeterian"},{key:"3",val:"South Indian"},{key:"4",val:"North Indian"},{key:"5",val:"Jain Food"}]),_defineProperty(n,"timingRestrictions",[{key:"yes",val:"Yes"},{key:"no",val:"No"}]),_defineProperty(n,"visitorRestrictions",[{key:"Visitors Allowed",val:"Visitors Allowed"},{key:"Visitors Not Allowed",val:"Visitors Not Allowed"},{key:"No Overnight Stay",val:"No Overnight Stay"}]),_defineProperty(n,"noticePeriod",[{key:"15 days",val:"15 days"},{key:"1 month",val:"1 month"},{key:"2 months",val:"2 months"}]),_defineProperty(n,"parkingAvailable",[{key:"no",val:"No"},{key:"yes",val:"Yes"}]),_defineProperty(n,"lastEntryTime",[{key:"00:00:00",val:"12:00 am"},{key:"23:30:00",val:"11:30 pm"},{key:"23:00:00",val:"11:00 pm"},{key:"22:30:00",val:"10:30 pm"},{key:"22:00:00",val:"10:00 pm"}]),_defineProperty(n,"preferredTenant",[{key:"Male",val:"Male"},{key:"Female",val:"Female"},{key:"Both",val:"Both"}]),_defineProperty(n,"workPreference",[{key:"Student",val:"Student"},{key:"Salaried",val:"Salaried"},{key:"Businessmen",val:"Businessmen"},{key:"No Preference",val:"All"}]),_defineProperty(n,"otherPreference",[{key:"Only Vegetarians",val:"Only Vegetarians"},{key:"Alcohol Not Allowed",val:"Alcohol Not Allowed"},{key:"Pets Allowed",val:"Pets Allowed"}]),n),b=function(e){var t=[],a={}.toString;if(!e)return t;var n=a.call(e[0]);if("[object Object]"==n)return e;for(var i=0;i<e.length;i++){var n=a.call(e[i]),o={};switch(n){case"[object Array]":o.key=e[i][0],o.val=e[i][1];break;case"[object Object]":o=e[i];break;case"[object String]":case"[object Number]":o.key=e[i],o.val=e[i];break;default:o.key=v.key,o.val=v.val}t.push(o)}return t};return{get:function(e){return o[e]},getAll:function(){return o},set:function(e,t){var a=o[e];if(t||0==t?o[e]=t:this.reset(e,t),o.listeners[e])for(var n=0;n<o.listeners[e].length;n++){var r={};r.data=o.listeners[e][n].data,r.id=e,r.oldVal=a,r.newVal=t,o.listeners[e][n].callBack(r)}var s={};s[e]=t,a!=t&&i.storeData(s)},reset:function(e,t){delete o[e]},resetAll:function(){o={}},getMasterList:function(e){return b(S[e])},getRestrictedList:function(e,t){var n=b(S[e]),i=a(n,t);return i},convertKeyValues:function(e){return b(e)},getDynamicMasterList:function(e){return S[e+r].then(function(t){return S[e]=t,t})},addListener:function(e){var t;o.listeners[e.id]?t=o.listeners[e.id]:(o.listeners[e.id]=[],t=o.listeners[e.id]),t.push({callBack:e.handler,data:e.data})},removeListener:function(e){var t=o.listeners[e.id];t&&(o.listeners[e.id]=t.filter(function(t){return!(t.callBack===e.handler||t.data===e.data||t.callBack&&e.handler&&t.callBack.toString()===e.handler.toString()||t.data&&e.data&&t.data.toString()===e.data.toString())}))},fieldsMap:S,NA:v}}),Box.Application.getService("controlsService")}),define("services/paymentService",["services/apiService","services/localStorageService","modules/controls/scripts/controlsService"],function(e,t,a){var n="PaymentService";return Box.Application.addService(n,function(){function t(t){return e.postJSON(d.payOnline,t)}function a(t){return e.postJSON(d.payCheque,t)}function n(t){return e.postJSON(d.payPaytm,t)}function i(t){return e.get(d.getPrepaymentStatus(t))}function o(e,t){var a=arguments.length<=2||void 0===arguments[2]?window.location.origin:arguments[2];if(e.attr("action",t.merchantUrl),e.find("#orderAmount").val(t.amount),e.find("#returnUrl").val(a),e.find("#notifyUrl").val(t.notifyUrl),e.find("#secSignature").val(t.signature),e.find("#merchantTxnId").val(t.transactionId),t.user&&t.user.email&&e.find("#email").val(t.user.email),t.user&&t.user.contactNumbers&&t.user.contactNumbers.length>0&&t.user.contactNumbers[0].contactNumber&&e.find("#phoneNumber").val(t.user.contactNumbers[0].contactNumber),t.user&&t.user.fullName){var n=t.user.fullName.split(" ");e.find("#firstName").val(n[0]||""),e.find("#lastName").val(n[1]||"")}e.submit()}function r(t){return e.postJSON(d.addPrepayment,t)}function s(t){return e.postJSON(d.addListingPrepayment,{data:t})}function l(e,t){arguments.length<=2||void 0===arguments[2]?window.location.origin:arguments[2];if(e.find("#callbackUrl").val(t.returnUrl),e.find("#channelId").val("WEB"),e.find("#txnAmount").val(t.amount),e.find("#checksumhash").val(t.signature),t.user&&e.find("#custId").val(t.user.id),t.paymentParams){var a="?orderid="+encodeURI(t.paymentParams.ORDER_ID),n=t.merchantUrl+a;e.attr("action",n),e.find("#orderId").val(t.paymentParams.ORDER_ID),e.find("#mid").val(t.paymentParams.MID),e.find("#requestType").val(t.paymentParams.REQUEST_TYPE),e.find("#industryTypeId").val(t.paymentParams.INDUSTRY_TYPE_ID),e.find("#website").val(t.paymentParams.WEBSITE)}e.submit()}function c(t){return t?e.get(d.taxationParameter(t)).then(function(e){return e}):[]}var d={payOnline:"/xhr/payment/online",payCheque:"/xhr/payment/cheque",addPrepayment:"xhr/prepayment/add-prepayment",addListingPrepayment:"xhr/prepayment/addListingPrepayment",mapPrepaymentLead:"/xhr/prepayment/map-leads",payPaytm:"/xhr/payment/paytm",taxationParameter:function(e){return"/xhr/payment/getTaxationParameters?sellerId="+e},getPrepaymentStatus:function(e){return"/xhr/prepayment/status?sellerId="+e}},u=function(t){return e.putJSON(d.mapPrepaymentLead,t)};return{payOnline:t,payCheque:a,submitCitrusForm:o,addPrepayment:r,payPaytm:n,submitPaytmForm:l,mapLeadsWithPrepayment:u,getPrepaymentStatus:i,getTaxationParameter:c,addListingPrepayment:s}}),Box.Application.getService(n)}),define("services/gaTrackingService",["common/utilFunctions"],function(e){var t="gaTrackingService";return Box.Application.addService(t,function(t){function a(){var e=m.getQueuedItems({clearQueue:!0});for(var t in e)o(e[t].event,e[t].properties)}function n(){if(p){u=!0;for(var e in p)g("set",l[e],p[e])}}function i(){"function"==typeof g?(a(),n()):setTimeout(i,c)}function o(e,t){"function"==typeof g?(s([e,t]),g("send","event",t.category,e,t.label,t.value||void 0)):(m.addToQueue({event:e,properties:t}),y||(y=!0,i()))}function r(e){p=e,"function"!=typeof g?y||(y=!0,i()):n()}function s(e,t){(d||t)&&("string"==typeof e?console.log(e):console.log.apply(console,e))}var l={sellerId:"dimension3",sellerType:"dimension2",listingSubtype:"dimension68",propertyType:"dimension72"},c=2e3,d=!1,u=!1,p=void 0,y=!1,g=window.ga,v=e.getAllQueryStringParam();v.GA_DEBUG&&(d=!0);var m=new e.MessageQueue({type:"ga-events"});return{trackEvent:o,setIdentity:r}}),Box.Application.getService(t)}),define("services/amplitudeTrackingService",["common/utilFunctions"],function(e){var t="amplitudeTrackingService";return Box.Application.addService(t,function(){function t(){var e=l.getQueuedItems({clearQueue:!0});for(var t in e)n(e[t].event,e[t].properties)}function a(e){require(["amplitude"],function(a){a&&e.amplitudeTrackingId&&(a.getInstance().init(e.amplitudeTrackingId),s=a,t())})}function n(e,t){"undefined"!=typeof s&&"function"==typeof s.getInstance?(r([e,t]),s.logEvent(e,t)):l.addToQueue({event:e,properties:t})}function i(e){"undefined"!=typeof s&&"function"==typeof s.getInstance&&(s.getInstance().setUserId(e.sellerId),s.getInstance().setUserProperties(e))}function o(e,t){var a={url:document.location.href,path:document.location.pathname};n("pageview",a)}function r(e,t){(c||t)&&("string"==typeof e?console.log(e):console.log.apply(console,e))}var s,l;l=new e.MessageQueue({type:"amplitude"});var c=!1,d=e.getAllQueryStringParam();return d.AMPLITUDE_DEBUG&&(c=!0),{trackEvent:n,setIdentity:i,firePageView:o,loadTracking:a}}),Box.Application.getService(t)}),define("services/irisTrackingService",["common/utilFunctions","common/sharedConfig","services/apiService"],function(e,t,a){"use strict";var n="IRISTrackingService";return Box.Application.addService(n,function(){function t(t){e.setcookie("iris_id",t,c,d.toGMTString())}function a(){var a=e.getCookie("iris_id");return a||(a=e.getCookie("ajs_anonymous_id"),a=a?a.replace(/%22/g,""):e.uuidGenerator(),t(a)),a}function n(t,n){s||(s=a());var i=location.hostname.split(".");i.pop(),i.pop(),{message:[{messageId:e.uuidGenerator(),anonymousId:s,event:t,properties:n,url:document.location.href,path:document.location.pathname,title:document.title,userAgent:navigator.userAgent,ip:e.getCookie("USER_IP"),timestamp:Date.now(),userId:r,projectId:window.IRIS_PROJECT_ID}]}}function i(e,t){var a={url:document.location.href,path:document.location.pathname};n("pageview",a)}function o(e){r=e}var r,s,l=e.getSubdomain(),c=window.location.host;c=l?c.replace(l,""):"."+c;var d=new Date(Date.now()+31536e6);return{trackEvent:n,firePageView:i,setIdentity:o}}),Box.Application.getService(n)}),define("modules/gaTracking/scripts/services/gaTracking",["services/utils","services/gaTrackingService","services/amplitudeTrackingService","services/irisTrackingService"],function(e,t,a,n){return Box.Application.addService("gaTracking",function(){function e(e){r("setIdentity",[e])}function i(){r("firePageView")}function o(e){r("loadTracking",[e])}function r(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];for(var a in s)"function"==typeof s[a][e]&&s[a][e].apply(s[a],t)}var s={ga:t,amplitude:a,iris:n},l=[],c=[],d=[],u=!1,p=Box.Application.getService("Utils"),y=function(e,t,a,n){return"scroll"!==e?void t.on(e,function(){f(a)}):(l.push(n),t.length>0&&c.push(t.offset().top),d.push(a),void(window.onscroll=function(){for(var e=$(window).scrollTop(),t=0;t<c.length;t++)e>c[t]+l[t]&&e<c[t]+l[t]+50&&f(d[t])}))},g=function(e,t,a,n){m(e,t,a,n),v(e,t,a,n)},v=function(e,t,a,n){t.on(e,function(){return t[0].currentTime>=t[0].duration/2&&!u?(a.label="half",void f(a)):void(t[0].currentTime<t[0].duration/2&&(u=!1))})},m=function(e,t,a,n){t.on(e,function(){t[0].currentTime===t[0].duration&&(a.label="full",f(a))})},f=function(e){var t=p.getDeviceType(),a=e.label,n=e.action;t&&!e.noDeviceType&&(a=t+"_"+a,n=t+"_"+n);var i={category:e.category,label:a};e.value&&(i.value=e.value),r("trackEvent",[n,i])};return{trackSection:function(e,t,a,n){return y(e,t,a,n)},trackVideo:function(e,t,a,n){return g(e,t,a,n)},trackVideoDurationFull:function(e,t,a,n){return m(e,t,a,n)},track:function(e){return f(e)},setIdentity:e,firePageView:i,loadAllTracking:o}}),Box.Application.getService("gaTracking")}),define("doT!modules/sellerStatusAlert/views/toBeSuspended",function(){return function(e){var t='<div class="dashboard-modelbox-content text-center"> <div class="suspended-icon tb-sspnd"></div> <h2 class="heading">Your account to be suspended by <span class="date">'+e.suspensionDate+'</span></h2> <div class="content-specing"> <span class="sub-heading">Since you did not disclose any successful deals and have not been serving leads properly</span> <div class="text-left three-points"> <p> <i class="icon icon-cross-new"></i><b>All your listings will be removed</b> </p> <p> <i class="icon icon-cross-new"></i><b>You would not be able to add new listings</b> </p> <p> <i class="icon icon-cross-new"></i><b>No new enquiries would be provided to you</b> </p> </div> <span class="sub-heading">To avoid suspension of your account, you are requested to reach out to us at the earliest</span> </div> <span class="btnv2 btnv2-p action-items" data-type="remove-suspension">Avoid Account Suspension</span> <div class="hide action-items" data-action-buttons> <span class="btnv2 faded" data-type="contact-support">Contact Support</span> </div></div>';return t}}),define("doT!modules/sellerStatusAlert/views/suspended",function(){return function(e){var t='<div class="dashboard-modelbox-content text-center"> <div class="suspended-icon sspnd"></div> <h2 class="heading">Your account has been suspended</h2> <div class="content-specing"> <span class="sub-heading">Since you did not disclose any successful deals and have not been serving leads properly</span> <div class="text-left three-points"> <p> <i class="icon icon-cross-new"></i><b>All your listings have been removed</b> </p> <p> <i class="icon icon-cross-new"></i><b>You cannot add new listings</b> </p> <p> <i class="icon icon-cross-new"></i><b>No new enquiries will be provided to you</b> </p> </div> <p>To get back your account to the usual state, you are requested to reach out to us at the earliest</p> </div> <span class="btnv2 btnv2-p action-items" data-type="remove-suspension">Remove Account Suspension</span> <div class="hide action-items" data-action-buttons> <span class="btnv2 faded" data-type="contact-support" data-contact-support>Contact Support</span> </div></div>';return t}}),define("doT!modules/sellerStatusAlert/views/reactivated",function(){return function(e){var t='<div class="dashboard-modelbox-content text-center"> <div class="suspended-icon rectvtd"></div> <h2 class="heading">Your account will be reactivated</h2> <div class="content-specing"> <span class="sub-heading">Your request has been submitted for account re-activation</span> <div class="text-left three-points reactivated"> <p> <i class="icon icon-tick-new"></i><b>All your previously active listings will be re-activated</b> </p> <p> <i class="icon icon-tick-new"></i><b>You will be able to add new listings</b> </p> <p> <i class="icon icon-tick-new"></i><b>You will start receiving enquiries again</b> </p> </div> <p class="footer-text">Your account will be activated in the next <b>48 hours</b>. Thank you for your patience. If you have any further questions, you can give us a call on +91-8899939993 to talk to our executives directly</p> </div></div>';return t}}),define("doT!modules/sellerStatusAlert/views/contact-us",function(){return function(e){var t='<div class="dashboard-modelbox-content text-center"> <h2 class="heading">Share your updated contact details</h2> <div class="content-specing contact-screen" data-detail-box> <p>Our executives will reach out to you soon to discuss it further</p> <div class="detail-box"> <div data-module="controls" id="statusAlert-name" data-statusAlert-name> <script type="text/x-config"> { "type": "inputBoxNoDropdown", "label": "Name" } </script> </div> <div data-module="controls" id="statusAlert-phone" data-statusAlert-phone> <script type="text/x-config"> { "type": "inputBoxNoDropdown", "label": "Mobile Number", "class": "js-number" } </script> </div> </div> </div> <span class="btnv2 btnv2-p action-items" data-action-buttons data-type="submit-details">Submit Request</span></div>';return t}}),define("doT!modules/sellerStatusAlert/views/accountLocked",function(){return function(e){var t='<div class="dashboard-modelbox-content text-center"> <h2 class="heading">Your Enquiries Have Been Locked</h2> <div class="content-specing"> <p class="sub-heading">Since you did not disclose any successful deals recently</p> <div class="text-center pt-15 pb-15"> <img src="/images/accountLock.917899a9.png"> </div> <div class="text-left three-points"> <p> <i class="icon icon-cross-new"></i><b>You cannot view new enquiries anymore</b> </p> <p> <i class="icon icon-cross-new"></i><b>All your previous enquiries have also been locked</b> </p> </div> <p class="align-center"><strong>'+e.enquiryCount+' enquiries</strong> provided in last 1 month</p> <p class="">To continue viewing enquiries, please make a payment <span class="prepayment-amount hide"> of <strong><span class="icon-rupee"></span><span data-prepayment-amount></span></strong></span> to unlock</p> </div> <span class="btnv2 btnv2-p action-items green" data-type="remove-locking">Unlock my enquiries now</span> <div class="hide action-items" data-action-buttons> <span class="btnv2 faded" data-type="contact-support" data-contact-support>Contact Support</span> </div></div>';return t}}),define("doT!modules/sellerStatusAlert/views/housingSeller",function(){return function(e){var t='<div class="dashboard-modelbox-content text-center"> <h2>All your enquiries and properties will be visible in<br>Housing Seller Panel</h2> <div class="content-specing"> <p class="sub-heading">Login to housing account to view all your enquiries and properties</p> <div class="text-center pt-15 pb-15"> <img src="/images/housingSeller.83cbf005.png"> </div> </div> <a href="'+e.housingDeveloperAssistUrl+'" target="_blank" class="btnv2 btnv2-p action-items green">Login to Seller Panel on Housing</a></div>';return t}}),define("services/trackingDataService",["services/utils"],function(){return Box.Application.addService("trackingDataService",function(e){var t={dashboard:{esRespondNow:{action:"respond now",label:"enquiry summary"},packageUtilizationTracking:{promoCardSeen:{category:"Promo Card",action:"Card Seen"},promoCardClick:{category:"Promo Card",action:"Card Click"}},lsRejected:{action:"rejected",label:"listing summary"},lsExpired:{action:"expired",label:"listing summary"},lsActive:{action:"active",label:"listing summary"},lsWithoutImages:{action:"without images",label:"listing summary"},lsUnderReview:{action:"under review",label:"listing summary"},psPayNow:{action:"pay now",label:"payment summary"},mtMarkTransaction:{action:"mark transaction",label:"mark transaction"},mtFeeModalOpen:{action:"fee modal open",label:"mark transaction"},sbBuilderLeadOobi:{action:"builder_lead_oobi",label:"sidebar"},sbBuilderLeadDatalabs:{action:"builder_lead-datalabs",label:"sidebar"},sbBuilderLeadDc:{action:"builder_lead-dc",label:"sidebar"},sbFeeModalOpen:{action:"fee modal open",label:"sidebar"},sbFeeModalClose:{action:"fee modal close",label:"sidebar"},sbFeeModalSwitch:{action:"fee modal switch",label:"sidebar"},virtualNumberScroll:{action:"virtual number scroll",label:""},pUpdateUserPhone:{action:"phone no edit",label:""},pUpdateUserEmail:{action:"email edit",label:""},pUpdateUserName:{action:"profile name edit",label:""},pUpdateUserType:{action:"profile type edit",label:""},pUpdateUserCmpName:{action:"company name edit",label:""},pUpdateUserPic:{action:"profile pic edit",label:""},pUpdateUserPhoneDone:{action:"seller phone changed",label:""},pUpdateUserEmailDone:{action:"seller email changed",label:""},pUpdateUserNameDone:{action:"seller name changed",label:""},pUpdateUserTypeDone:{action:"profile type changed",label:""},pUpdateUserCmpNameDone:{action:"seller agency name changed",label:""},pUpdateUserPicDone:{action:"profile pic changed",label:""},pNightCallSelected:{action:"night call selected",label:""},pNightCallDeselected:{action:"night call deselected",label:""},pMakaanHousingPortingEligible:{action:"porting_flag_seen",label:""},pMakaanHousingPortingSelected:{action:"porting_flag_clicked",label:"optin"},pMakaanHousingPortingDeselected:{action:"porting_flag_clicked",label:"optout"},geKnowMore:{action:"fee modal open",label:"guaranteed-enquiries"},gePayNow:{action:"pay now",label:"guaranteed-enquiries"},geMarkTransaction:{action:"mark transaction",label:"guaranteed-enquiries"},unreadRespondNow:{action:"click",category:"unread",label:""},festivalOffer:{action:"click",category:"offer",label:""},"repost-listing":{action:"multi_repost_dashboard_link"}},listingManagement:{lsChangeStart:{action:"lead status change start",label:"{DYN}"},lsChangeDone:{action:"lead status changed",label:"{DYN}"}},reportingModal:{rmLeadSelected:{action:"lead selected",label:""},rmLeadUnselected:{action:"lead unselected",label:""},rmTransactionReport:{action:"mark successful",label:""},rmUserTyped:{action:"search typed",label:""},rmSaleTypeRentChanged:{action:"rent filter",label:""},rmSaleTypeSellChanged:{action:"sell filter",label:""},rmCityChanged:{action:"city filter",label:""},rmClose:{action:"mark deal modal close",label:""}},paymentModal:{pmChequeSubmit:{action:"cheque submit",
label:""},pmPayOnline:{action:"pay amount",label:""},pmPayPaytm:{action:"paytm amount",label:""},pmLeadUnselected:{action:"lead unselected",label:""},pmPayOnlineSelected:{action:"pay online selected",label:""},pmChequePaySelected:{action:"cheque payment selected",label:""},pmNeftSelected:{action:"NEFT option selected",label:""},pmPaytmSelected:{action:"PayTM option selected",label:""},pmClose:{action:"payment modal close",label:""}},penalizedSellerPopup:{open:{action:"penalized modal viewed",label:"",category:"penalizedSellerPopup"},reportNow:{action:"penalized report now",label:"",category:"penalizedSellerPopup"},payNow:{action:"penalized pay now",label:"",category:"penalizedSellerPopup"},close:{action:"penalized modal close",label:"",category:"penalizedSellerPopup"},requestRemoval:{action:"penalizes modal CTA changed",label:"",category:"penalizedSellerPopup"}},sellerDetail:{rbSellerScore:{action:"seller score details viewed",label:"",category:"sellerDetail"},Update_Image:{action:"Click",label:"LHS_profile_imageUpdate",category:"Engagement"},Update_Profile_Image:{action:"Click",label:"Profile_imageUpdate",category:"Information"},"score-tooltip":{action:"Mouse_Hover",label:"Seller_Score",category:"Information"},"response-tooltip":{action:"Mouse_Hover",label:"Response",category:"Information"},"property-tooltip":{action:"Mouse_Hover",label:"Property_Options",category:"Information"},"feedback-tooltip":{action:"Mouse_Hover",label:"Customer_Feedback",category:"Information"},"deals-closed-tooltip":{action:"Mouse_Hover",label:"Deals_Disclosed",category:"Information"},"improve-topSellers":{action:"Click",label:"Improve_Rank_Top_10_Sellers",category:"Engagement"},"improve-score-explained":{action:"Click",label:"Improve_Rank_Seller_Score",category:"Engagement"},"improve-response-tooltip":{action:"Click",label:"Improve_Rank_Response",category:"Information"},"improve-property-tooltip":{action:"Click",label:"Improve_Rank_Property_Options",category:"Engagement"},"improve-feedback-tooltip":{action:"Click",label:"Improve_Rank_Customer_Feedback",category:"Engagement"},"improve-deals-closed-tooltip":{action:"Click",label:"Improve_Rank_Deals_Disclosed",category:"Engagement"},"score-detail":{action:"Click",label:"Seller_Score",category:"Engagement"},"topSeller-detail":{action:"Click",label:"Top_10_Sellers",category:"Engagement"},edit_property_images:{action:"Click",label:"Property_Image",category:"Upload"},add_property_images:{action:"Click",label:"Add_Property_Image",category:"Upload"},show_More:{action:"Click",label:"Show_More",category:"Engagement"},view_review:{action:"Click",label:"Reviews",category:"Engagement"},view_rating:{action:"Click",label:"Feedback",category:"Engagement"},add_more_images:{action:"Click",label:"Images",category:"Engagement"},report_more:{action:"Click",label:"Report_Deals",category:"Engagement"},view_enquiries:{action:"Click",label:"Report_Enquiries",category:"Engagement"},add_property:{action:"Click",label:"Property",category:"Engagement"},"edit-profile":{action:"Click",label:"EDIT_PROFILE",category:"Engagement"},"upgrade-badge":{action:"Click",label:"UPGRADE_BADGE",category:"Engagement"},update_badge:{action:"Click",label:"Expert_Badge",category:"Engagement"},how_to_improve:{action:"Click",label:"Improve_Card",category:"Engagement"},city_rank:{action:"Click",label:"City_Rank",category:"Engagement"}},dealMakerModal:{viewSample:{action:"View Sample",label:""},reportNowDealMaker:{action:"report_now_exdeal_maker",label:"",category:"package"},reportNowExpertdealMaker:{action:"report now",label:"",category:"package"},payNowDealMaker:{action:"pay_now_deal_maker",label:"",category:"package"},payNowExpertDealMaker:{action:"pay_now_exdeal_maker",label:"",category:"package"}},prepayment:{modify:{action:"modify_prepaid_deals",label:""},add:{action:"Add_prepaid_deals",label:""},paynow:{action:"paynow",label:""},addToCart:{action:"Add_to_bucket",label:""},checkout:{action:"Checkout",label:""}},suspension:{viewed:{action:"suspension modal viewed",label:""},removeSuspension:{action:"suspension remove action",label:""},paynow:{action:"suspension pay now action",label:""},contact:{action:"suspension contact action",label:""},contactSuccess:{action:"suspension contact submit success",label:""},close:{action:"suspension modal close",label:""},CONFIG:{LABELS:{TO_BE_SUSPENDED:"to be suspended",SUSPENDED:"suspended",RE_ACTIVE:"reactive"}}},accountLocked:{viewed:{action:"accountLock modal viewed",label:""},removeLocking:{action:"accountLock remove action",label:""},paynow:{action:"accountLock pay now action",label:""},contact:{action:"accountLock contact action",label:""},contactSuccess:{action:"accountLock contact submit success",label:""},close:{action:"accountLock modal close",label:""},CONFIG:{LABELS:{ACCOUNT_LOCKED:"account lock"}}},housingSeller:{viewed:{action:"housingSeller modal viewed",label:""},removeLocking:{action:"housingSeller remove action",label:""},paynow:{action:"housingSeller pay now action",label:""},contact:{action:"housingSeller contact action",label:""},contactSuccess:{action:"housingSeller contact submit success",label:""},close:{action:"housingSeller modal close",label:""},CONFIG:{LABELS:{HOUSING_SELLER:"housing seller"}}},listingRepost:{repost:{category:"Repost Exercise",action:"No Login Confirmed Repost All"},later:{category:"Repost Exercise",action:"No Login Denied Repost All"}},multiListingRepost:{selectAll:{category:"Seller_Listing Management",action:"multiple listing selected"},UnSelectAll:{category:"Seller_Listing Management",action:"multiple listing un-selected"},singleSelected:{category:"Seller_Listing Management",action:"single listing selected"},singleUnSelected:{category:"Seller_Listing Management",action:"single listing un-selected"},pageLoaded:{category:"Seller_Listing Management",action:"all listings shown"},singleRepost:{category:"Seller_Listing Management",action:"repost single listing"},bulkRepost:{category:"Seller_Listing Management",action:"repost multiple listing"},repostSuccess:{category:"Seller_Listing Management",action:"repost success"},reportFailed:{category:"Seller_Listing Management",action:"repost failure"}},listingCard:{id:{action:"CLICK Listing ID",label:""},enquiries:{action:"click_enquiry",label:"click_enquiry"},edit:{action:"click_edit_listing",label:"edit_listing"},deleteListing:{action:"click_delete_listing",label:""},confirmDeleteListingYes:{action:"click_delete_listing_confirmation",label:"delete_listing_confirm_yes"},confirmDeleteListingNo:{action:"click_delete_listing_confirmation",label:"delete_listing_confirm_no"},viewLive:{action:"click_view_live",label:"view_live"},editRejected:{action:"click",label:"rejected_edit"},repostListing:{action:"click_repost_listing",label:""},repostListingConfirmed:{action:"click_repost_listing_confirm",label:""},ownerEnquiries:{action:"activated benefits view enquiries live",category:"owner monetization"},ownerViewLive:{action:"activated benefits view property live",category:"owner monetization"}},selectProgram:{eligibleCardSeen:function(e){return{category:this.category,action:"Card Seen",label:"Select Eligible Card "+e}},activatedCardSeen:function(e){return{category:this.category,action:"Card Seen",label:"Select Activated Card "+e}},knowMoreClick:{action:"Click",label:"Know More"},redeemWalletClicked:{action:"Click",label:"Redeem Wallet"},knowMoreCtaClick:function(e){return{category:this.category,action:"Click",label:"Know More CTA"+e}},knowMoreModalClosed:{action:"Modal Closed",label:"Know More Modal Closed"},addToWalletClicked:{action:"Click",label:"Pending Request Card Dashboard"},confirmCouponRequest:{action:"Click",label:"Confirm Coupon Request"},denyCouponRequestMain:{action:"Click",label:"Deny Coupon Request Main"},denyCouponRequest:{action:"Click",label:"Deny Coupon Request"},denyCouponYes:{action:"Click",label:"Deny Coupon Request Yes"},denyCouponNo:{action:"Click",label:"Deny Coupon Request No"}}},a=function(e,a){var n=t[e];return n?(e=a?a:e,$.each(n,function(t,a){"function"==typeof a?n[t]=a.bind({category:e}):n[t].category||(n[t].category=e)})):!1},n=function(e,t){var n=a(t);if(!n)return!1;var i=n[e];return i?i:!1};return{getModEvents:a,getModEventItem:n}}),Box.Application.getService("trackingDataService")}),define("services/enquiryService",["services/apiService"],function(){return Box.Application.addService("enquiryService",function(){function e(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(e[a]));return t.join("&")}var t=Box.Application.getService("ApiService"),a={takeAction:"/xhr/enquiries/takeAction",getLeads:"/xhr/enquiries/closableLeads",getPayableLeads:"/xhr/enquiries/payableLeads",changeStatusToClosed:"/xhr/enquiries/changeStatusToClosed",getCashbackLeadDetails:"/xhr/enquiries/getCashbackLeadDetails",changePrepaidStatusToClosed:"/xhr/enquiries/changePrepaidStatusToClosed",changeStatusToClosedForCBLead:"/xhr/enquiries/changeStatusToClosedForCBLead",getLeadStats:"/xhr/enquiries/getLeadStats",getPhantomLeads:function(e){return"/xhr/enquiries/getPhantomLeads/"+e},getEnquiresCountInTime:"xhr/enquiries/getEnquiresCountInTime",getInstantEnquiriesCount:"xhr/enquiries/getInstantEnquiriesCount?instantLeads=true",changeCouponStatus:"xhr/enquiries/changeCouponStatus"},n=function(){return t.get(a.takeAction)},i=function(n){return t.get(a.getLeads+(n&&void 0!=n?"?"+e(n):""))},o=function(n){return t.get(a.getCashbackLeadDetails+(n&&void 0!=n?"?"+e(n):""))},r=function(n){return t.get(a.getPayableLeads+(n&&void 0!=n?"?"+e(n):""))},s=function(e){return e&&e.leads?t.putJSON(a.changeStatusToClosed,e):void 0},l=function(e){return e&&e.leads?t.putJSON(a.changePrepaidStatusToClosed,e):void 0},c=function(e){return e&&e.leads?t.putJSON(a.changeStatusToClosedForCBLead,e):void 0},d=function(e){var n=this;return n.leadStats?new Promise(function(e,t){n.leadStats?e(n.leadStats):t()}):n.leadStats=t.get(a.getLeadStats)},u=function(n,i){return t.get(a.getPhantomLeads(i)+(n&&void 0!=n?"?"+e(n):""))},p=function(){return t.get(a.getEnquiresCountInTime)},y=function(){return t.get(a.getInstantEnquiriesCount)},g=function(e){return t.putJSON(a.changeCouponStatus,e)};return{getLeads:i,getTakeAction:n,getPayableLeads:r,changeStatusToClosed:s,getCashbackLeadDetails:o,changeStatusToClosedForCBLead:c,getLeadStats:d,getPhantomLeads:u,changePrepaidStatusToClosed:l,getEnquiresCountInTime:p,getInstantEnquiriesCount:y,changeCouponStatus:g}}),Box.Application.getService("enquiryService")}),define("modules/sellerStatusAlert/scripts/services/sellerStatusAlertService",["doT!modules/sellerStatusAlert/views/toBeSuspended","doT!modules/sellerStatusAlert/views/suspended","doT!modules/sellerStatusAlert/views/reactivated","doT!modules/sellerStatusAlert/views/contact-us","doT!modules/sellerStatusAlert/views/accountLocked","doT!modules/sellerStatusAlert/views/housingSeller","common/sharedConfig","services/utils","services/trackingDataService","services/localStorageService","services/sellerService","services/enquiryService"],function(e,t,a,n,i,o,r,s,l,c,d,u){var p="sellerStatusAlertService";return Box.Application.addService(p,function(){function p(e){return $.each(b,function(t,a){a.label=e}),b}function y(e){var t=e.status,a=e.statusData;return b=l.getModEvents(t),t?h[t](a):{}}function g(e){var t=e.status,a=e.date,n=r.sellerSuspensionMap,i={isSuspended:!1,state:t};return[n.TO_BE_SUSPENDED,n.SUSPENDED].indexOf(t)>-1?(i.isSuspended=!0,i.date=a):t==n.RE_ACTIVE&&(i.isReactivated=!0),i}function v(e,t){var a=c.getItem("sellerStatus"),n=void 0;return["suspended"].indexOf(a)>-1?d.fetchSellerDetails(e).then(function(e){var t=e.data&&e.data[0]||{},a=t.suspensionStatus,i=t.suspensionDate;return n={status:"suspension",statusData:g({status:a,date:i})},c.setItem("sellerStatusData",n),n}):["accountLocked"].indexOf(a)>-1?u.getEnquiresCountInTime().then(function(e){return n={status:"accountLocked",statusData:{enquiryCount:e.enquiryCount}},c.setItem("sellerStatusData",n),n}):["housingSeller"].indexOf(a)>-1?(n={status:"housingSeller",statusData:{housingDeveloperAssistUrl:t}},c.setItem("sellerStatusData",n),new Promise(function(e){return e(n)})):void 0}function m(e){var t=e.name,a=e.phone,n=e.sellerId,i=c.getItem("sellerStatus");return["suspended"].indexOf(i)>-1?d.requestRemoveSuspension({name:t,phone:a}):d.requestRemoveAccountLock({name:t,phone:a,sellerId:n})}function f(e){var t=!0;for(var a in k)e[a]&&(t=t&&k[a](e));return t}var S={},b=void 0,k={name:function(e){var t=e.name;return t?!0:!1},phone:function(e){var t=e.phone,a=/^[0-9]{10}$/;return a.test(t)}},h={suspension:function(i){var o=i.state,l=i.date;switch(o){case r.sellerSuspensionMap.TO_BE_SUSPENDED:S.template=e({suspensionDate:s.formatDate(l,"dd SM, YY")}),S.contactSupport=n,S.warning=!0,S.blocking=!1,S.trackingData=p(b.CONFIG.LABELS.TO_BE_SUSPENDED);break;case r.sellerSuspensionMap.SUSPENDED:S.template=t({}),S.contactSupport=n,S.blocking=!0,S.warning=!0,S.trackingData=p(b.CONFIG.LABELS.SUSPENDED);break;case r.sellerSuspensionMap.RE_ACTIVE:S.template=a({}),S.blocking=!0,S.trackingData=p(b.CONFIG.LABELS.RE_ACTIVE)}return S},accountLocked:function(e){var t=e.enquiryCount;return S.template=i({enquiryCount:t}),S.contactSupport=n,S.warning=!0,S.blocking=!1,S.trackingData=p(b.CONFIG.LABELS.ACCOUNT_LOCKED),S},housingSeller:function(e){var t=e.housingDeveloperAssistUrl;return S.template=o({housingDeveloperAssistUrl:t}),S.contactSupport=n,S.warning=!0,S.blocking=!0,S.trackingData=p(b.CONFIG.LABELS.HOUSING_SELLER),S}};return{getConfig:y,getCurrentStatusData:v,removeSellerAlert:m,validateForm:f}}),Box.Application.getService(p)}),define("modules/sellerStatusAlert/scripts/index",["services/commonService","services/utils","modules/listProperty/scripts/services/notification","services/paymentService","modules/gaTracking/scripts/services/gaTracking","modules/sellerStatusAlert/scripts/services/sellerStatusAlertService"],function(e,t,a,n,i,o){var r="sellerStatusAlert";Box.Application.addModule(r,function(s){function l(){var e=$(S).find(_.SELECTORS.NAME).val(),t=$(S).find(_.SELECTORS.PHONE).val(),n=f.sellerId,r=o.validateForm({name:e,phone:t});return r?void o.removeSellerAlert({name:e,phone:t,sellerId:n}).then(function(e){$(S).find(_.SELECTORS.DETAILS_BOX).html(_.MESSAGE.CONTACT_SUBMIT_SUCCESS),$(S).find(_.SELECTORS.ACTION_ITEM_PLACEHOLDER).addClass(_.CLASS.HIDE),i.track(k.trackingData.contactSuccess)},function(e){a.show(_.MESSAGE.CONTACT_SUBMIT_FAILURE,"",3e3)}):void a.show(_.MESSAGE.VALIDATION_FAILURE,"",3e3)}function c(e){s.broadcast("popup:close",{options:{callback:e}})}function d(e){$(e).addClass(_.CLASS.HIDE),$(S).find(_.SELECTORS.ACTION_ITEM_PLACEHOLDER).removeClass(_.CLASS.HIDE)}function u(){$(S).find(_.SELECTORS.MAIN_PLACEHOLDER).html(k.contactSupport({})),e.startAllModules(S)}function p(){n.getPrepaymentStatus(f.sellerId).then(function(e){e.count?($(S).find(_.SELECTORS.PREPAYMENT_AMOUNT_BOX).html(e.finalAmount),$(S).find(_.SELECTORS.PREPAYMENT_AMOUNT_HOLDER).removeClass(_.CLASS.HIDE)):($(S).find(_.SELECTORS.PAY_NOW).addClass(_.CLASS.HIDE),$(S).find(_.SELECTORS.CONTACT_SUPPORT).removeClass(_.CLASS.FADED)),v()},function(){v(),$(S).find(_.SELECTORS.PAY_NOW).addClass(_.CLASS.HIDE)})}function y(e){var t=arguments.length<=1||void 0===arguments[1]?"auto":arguments[1];return k=o.getConfig(e),$.isEmptyObject(k)?c():(k.trackingData.viewed.label=t,i.track(k.trackingData.viewed),k.blocking&&$(S).siblings(_.SELECTORS.CLOSE_POPUP).addClass(_.CLASS.HIDE),k.warning&&s.broadcast("warning-popup"),$(S).find(_.SELECTORS.MAIN_PLACEHOLDER).html(k.template),void p())}function g(e){var a=e.location+"#"+e.hash;if(window.location.pathname==e.location){var n=t.openPopup.bind(t,"prepayment",{callingModuleId:S.id,data:b});s.broadcast("popup:close",{options:{callback:n}})}else window.location=a}function v(){h.addClass("hide")}function m(){h.removeClass("hide")}var f=void 0,S=void 0,b=void 0,k=void 0,h=void 0,_={SELECTORS:{CLOSE_POPUP:".js-close-popup",PREPAYMENT_AMOUNT_HOLDER:".prepayment-amount",MAIN_PLACEHOLDER:"[seller-status-template-placeholder]",ACTION_ITEM_PLACEHOLDER:"[data-action-buttons]",PAY_NOW:"[data-pay-now]",CONTACT_SUPPORT:"[data-contact-support]",NAME:"[data-statusAlert-name] input",PHONE:"[data-statusAlert-phone] input",DETAILS_BOX:"[data-detail-box]",PREPAYMENT_AMOUNT_BOX:"[data-prepayment-amount]"},MESSAGE:{CONTACT_SUBMIT_SUCCESS:"Thank you for submitting your request. Our executives will reach out to you soon. Also, you can give us a call on +91-8899939993 to talk to our executives directly",CONTACT_SUBMIT_FAILURE:"Some error occured. Please try again.",VALIDATION_FAILURE:"Please fill the contact details correctly. All fields are mandatory"},CLASS:{HIDE:"hide",WARNING:"red-alert",FADED:"faded",DISABLED:"disabled"},TRACKING_NAME:"suspension"},C=["popup:open","un_load_module"],P=function(){f=s.getConfig(),S=s.getElement(),h=$(S).closest("[data-role='popup']").find(".main-loading"),s.broadcast("moduleLoaded",{name:r})},A=function(e,t){if(!([t.id,t.name].indexOf(S.id+"Modal")<0))switch(e){case"popup:open":m();var n=t.options.config.data.sellerId||f.sellerId,r=t.options.config.data&&t.options.config.data.eventSource||"auto",s=f.housingDeveloperAssistUrl||"";o.getCurrentStatusData(n,s).then(function(e){b=e,y(e,r)},function(e){v(),c(function(){a.show(_.MESSAGE.CONTACT_SUBMIT_FAILURE,"",3e3)})});break;case"un_load_module":i.track(k.trackingData.close)}},E=function(e,t,a){var n=$(t).data();switch(a){case"remove-suspension":i.track(k.trackingData.removeSuspension),d(t);break;case"contact-support":i.track(k.trackingData.contact),u();break;case"pay-now":i.track(k.trackingData.paynow),g(n);break;case"submit-details":l();break;case"remove-locking":i.track(k.trackingData.removeLocking),d(t)}};return{init:P,messages:C,onmessage:A,onclick:E}})});