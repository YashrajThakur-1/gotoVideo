define("text!modules/dialog/views/index.html",[],function(){return'<div class = "dialog hide">\n    <div class = "dialogBox">\n        <h3 class="title hide"></h3>\n        <p class="message"></p>\n        <a class="btn js-app-dwnld hide app-downlaod-listings" href="https://mknslr.onelink.me/4070643235?pid=ListingPage" target="_blank"> Download App</a>\n        <div class="dialogButtons hide">\n            <button type="button" class="btn btn-stroke-gray  wd45percent marginR10 marginB10 action one hide"></button>\n            <button type="button" class="btn wd45percent marginR10 marginB10 action two hide"></button>\n        </div>\n    </div>\n</div>'}),define("modules/dialog/scripts/services/overlay",[],function(){return Box.Application.addService("overlay",function(){var e,o,i,a=[],t=[],n=[],s=function(s){s.isBlur&&$("body").addClass("overlay-open");var d=s.callback,c=s.overlayColor?s.overlayColor:"rgba(255,255,255,0)",r=899,p=9991;if(e=s.section,n=s.otherSections?s.otherSections:[],$(e).find(".pt-common-overlay").length<=0&&($(".pt-common-overlay").remove(),$('<div data-type="overlay" class="pt-common-overlay" style="width:100%;height:100%;top:0;bottom:0;right:0;left:0;"></div>').insertBefore($(e)[0])),$(".pt-common-overlay").css({"z-index":r,position:"fixed","background-color":c,display:"block"}),o=$(e).css("position"),i=$(e).css("z-index"),$(e).css({"z-index":p,position:"static"==o?"relative":o}),n.length)for(var v=0;v<n.length;v++)t[v]=$(n[v]).css("position"),a[v]=$(n[v]).css("z-index"),$(n[v]).css({"z-index":p,position:"static"==t[v]?"relative":t[v]});$(".pt-common-overlay").on("click",function(){s.alwaysVisible||l(d)})},l=function(s,l){$("body").removeClass("overlay-open"),$(".pt-common-overlay").length&&setTimeout(function(){if($(".pt-common-overlay").css({"z-index":"",position:"",display:"none"}),$(e).css({"z-index":i,position:o}),n.length)for(var l=0;l<n.length;l++)$(n[l]).css({"z-index":a[l],position:t[l]});$(".pt-common-overlay").remove(),$("body").attr("style",""),$(e).removeClass("open"),"function"==typeof s&&s()},0)},d=function(){$("body").attr("style","")};return{showOverlay:function(e){return s(e)},hideOverlay:function(e,o){return l(e,o)},hideOverlayOnAjax:d}}),Box.Application.getService("overlay")}),define("modules/dialog/scripts/index",["text!modules/dialog/views/index.html","modules/dialog/scripts/services/overlay"],function(e,o){Box.Application.addModule("dialog",function(i){var a=function(e){var i=e&&e.id?"#"+e.id+" .dialog":".dialog",a=function(e){$(i).removeClass("success");var o=i;$(o+" .title").html(e.title),$(o+" .message").html(e.message),$(o+" .action").each(function(){$(this).off("click")}),e.title?$(o+" .title").removeClass("hide"):$(o+" .title").addClass("hide"),$(o).removeClass("hide"),$(o).addClass("show-popup")},t=function(e,a,t,n){$(i+" ."+e).html(a).on("click",function(){$(i).addClass("hide"),$(i).removeClass("show-popup");var a=n?n:{};return a.label=$(this).val()||$(this).text(),o.hideOverlay("",{isBlur:!0}),Box.Application.broadcast(t,a),$(i+" .action").each(function(){$(this).off("click")}),$(i+" ."+e).addClass("hide"),!1}),$(".dialog ."+e).removeClass("hide")},n=function(){$(".dialog button").addClass("hide")};a(e),e.isButtonReqd?($(i+" .dialogButtons").addClass("hide"),$(i).addClass("success"),e.alwaysShow||setTimeout(function(){o.hideOverlay(),$(i).removeClass("show-popup"),$(i).addClass("hide")},1500)):($(i+" .dialogButtons").removeClass("hide"),e.actionOneLabel||(e.actionOneLabel="OK"),n(),t("one",e.actionOneLabel,e.actionOneCallback,e.callbackData),"confirm"===e.type&&(e.actionTwoLabel||(e.actionTwoLabel="Cancel"),t("two",e.actionTwoLabel,e.actionTwoCallback,e.callbackData))),e.showLink?$(".js-app-dwnld").removeClass("hide"):$(".js-app-dwnld").addClass("hide"),o.showOverlay({section:".dialog",isBlur:!0,alwaysVisible:e.alwaysVisible||!1,overlayColor:"rgba(255,255,255,0.7)",callback:function(){$(i).removeClass("show-popup"),$(i).addClass("hide")}})};return{init:function(){var a=i.getConfig(),t="#"+a.id;o=i.getService("overlay"),$(t).append(e),i.broadcast("moduleLoaded",{name:"dialog"})},messages:["dialog"],onmessage:function(e,o){var t=i.getConfig();switch(e){case"dialog":o&&o.id===t.id&&(t=$.extend({},t,o),a.call(this,t))}}}})});