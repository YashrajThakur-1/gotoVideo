define("modules/autoOpenPopup/scripts/index",["services/utils","services/sellerService","services/commonService","common/sharedConfig"],function(e,n,t,o){Box.Application.addModule("autoOpenPopup",function(t){function o(n){var t=new Date;t.setDate(t.getDate()+c),e.setcookie(d,!0,null,t.toGMTString())}function i(){var n=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=p[n];t&&(t.name&&t.condition&&!t.bypass?t.condition===!0?(e.setHistoryOpenPopup(t.name,m,r,t),"housingSeller"==t.name&&$("[data-type='list-property']")&&$("[data-type='list-property']").addClass("hide")):t.condition&&"function"==typeof t.condition.then&&t.condition.then(function(o){o?(e.setHistoryOpenPopup(t.name,m,r,t),"housingSeller"==t.name&&$("[data-type='list-property']")&&$("[data-type='list-property']").addClass("hide")):i(n+1)},function(){i(n+1)}):i(n+1))}var a,s,r,l,u=window.location.pathname.substr(1,window.location.pathname.length),d="suppressDealConfirmationPopup",c=1,p=void 0,m=void 0;return{init:function(){a=t.getElement(),s=$(a),r=t.getConfig(),l=$(".popup-overlay"),m=u+window.location.search;e.getOpenPopupName(u,window.location.hash);p=[{name:e.getOpenPopupName(u,window.location.hash),condition:!0},{name:"housingSeller",condition:n.getSellerStatuses("housingSeller",r.sellerId).then(function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return e.housingSeller})},{name:"suspendedSeller",condition:n.getSellerStatuses("sellerSuspension",r.sellerId).then(function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return e.sellerSuspension})},{name:"accountLocked",condition:n.getSellerStatuses("accountLocked",r.sellerId).then(function(e){return e.accountLocked})},{name:"dealConfirmation",condition:r.dealConfirmationCount>0&&!e.getCookie(d),afterOpen:o.bind(void 0,"dealConfirmation")},{name:"penalizedSeller",condition:n.checkSellerPenalisation(r.sellerId).then(function(e){return e.isPenalized})}],i()}}})});