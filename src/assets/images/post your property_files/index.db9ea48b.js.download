function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}define("text!modules/listProperty/views/index.html",[],function(){return'<div class="list-property-container {{ if(it.isScreening) { }}listing-screening-box{{ } }}">\n    <div data-lazyModule="home" id="home" data-loadOn="event"></div>\n    <div data-lazyModule="localityProject" id="localityProject" data-loadOn="event"></div>\n    {{ if (it.device === \'mobile\') { }}\n    <div class="mobile-specific">\n    <div data-lazyModule="adress" id="adress" data-loadOn="event"></div>\n    <div data-lazyModule="score" id="score" data-loadOn="event"></div>\n    </div>\n    {{ } }}\n</div>'}),define("modules/listProperty/scripts/services/getDataFromService",["services/apiService"],function(){return Box.Application.addService("getDataFromService",function(){function e(e){var t=i();if(t){for(var o in e)t[o]=e[o];a(t)}}var t=Box.Application.getService("ApiService"),a=function(e){"undefined"!=typeof Storage?sessionStorage.listingData=JSON.stringify(e):console.log("Sorry! No Web Storage support..")},i=function(){return"undefined"!=typeof Storage&&sessionStorage.listingData?JSON.parse(sessionStorage.listingData):{}},o=function(){sessionStorage.removeItem("listingData")},n=function(e,a){if(e){var n=function(e){return e},r=function(e){return console.log("error"),{}};return o(),t.get(a).then(n,r)}return i()};return{returnData:function(e,t){return n(e,t)},storeinStorage:function(e){return a(e)},storeData:e,removeFromStorage:o}}),Box.Application.getService("getDataFromService")}),define("modules/controls/scripts/controlsService",["modules/listProperty/scripts/services/getDataFromService","services/defaultService"],function(e,t){return Box.Application.addService("controlsService",function(e){function a(e,t){var a=[];e:for(var i=0;i<e.length;i++){for(var o=0;o<t.length;o++)if(e[i].key===t[o].key)continue e;a.push(e[i])}return a}var i,o=Box.Application.getService("getDataFromService"),n={},r="-promise";n.listeners={};var l=["Vitrified Tiles","Ceramic Porcelain Tiles","Anti Skid Tiles","Marble Granite Tiles","Wooden flooring","RAK/laminated wooden flooring","Wood Finish Vinyl Flooring"],s=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],c=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],d=[{key:1,val:"",display:1},{key:2,val:"",display:2},{key:3,val:"",display:3},{key:4,val:"",display:4},{key:5,val:"",display:5},{key:6,val:"",display:6},{key:7,val:"",display:7},{key:8,val:"",display:8},{key:9,val:"",display:9},{key:10,val:"",display:10},{key:11,val:"",display:11},{key:12,val:"",display:12},{key:13,val:"",display:13},{key:14,val:"",display:14},{key:15,val:"",display:15}],p=[{key:"1 rk",val:"",display:"1 RK"}],y=[{key:"Apartment",val:"Apartment",display:"Apartment",priority:1,icon:"apartment"},{key:"BuilderFloor",val:"builder/independent floor",display:"independent / builder floor",priority:2,icon:"independent-floor"},{key:"Villa",val:"Villa",display:"Villa",priority:3,icon:"villa"},{key:"IndependentHouse",val:"Independent House",display:"Independent House",priority:4,icon:"independent-house"},{key:"Penthouse",val:"Penthouse",display:"Penthouse",priority:5,icon:"penthouse"},{key:"Studio",val:"Studio",display:"Studio",priority:6,icon:"studio"},{key:"Plot",val:"Plot",display:"Plot",priority:7,icon:"land"}],u=[{key:"Shop",val:"Shop",display:"Shop",priority:8,icon:"shop"},{key:"Office",val:"Office",display:"Office",priority:9,icon:"office"}],g=[{key:"Apartment",val:"Apartment",display:"Apartment",priority:1,icon:"apartment"},{key:"BuilderFloor",val:"builder/independent floor",display:"independent / builder floor",priority:2,icon:"independent-floor"},{key:"Hostel",val:"Hostel",display:"Hostel",priority:3,icon:"pg-hostel"},{key:"Villa",val:"Villa",display:"Villa",priority:4,icon:"villa"},{key:"IndependentHouse",val:"Independent House",display:"Independent House",priority:5,icon:"independent-house"},{key:"Penthouse",val:"Penthouse",display:"Penthouse",priority:6,icon:"penthouse"},{key:"Studio",val:"Studio",display:"Studio",priority:7,icon:"studio"}],v={key:"n/a",val:"na (for plots only)"},m=[],f={sellType:function(e){switch(e){case"true":case"Primary":return"Primary";case"Resale":case"false":return"Resale"}},status:function(e){switch(e){case"readyToMoveIn":case"Completed":case"Ready To Move In":return"readyToMoveIn";case"Under Construction":return"underConstruction";case"n/a":case v.key:return"n/a";default:return"underConstruction"}},getMapVal:function(e,t){return this[e]?this[e](t):t}},k=(i={sellType:[{key:"Primary",val:"New"},{key:"Resale",val:"Resale"}],"city-lead-price":[]},_defineProperty(i,"country-homeloan"+r,t.getCountries()),_defineProperty(i,"country-homeloan",[]),_defineProperty(i,"cities"+r,t.getCities(!0)),_defineProperty(i,"cities",[]),_defineProperty(i,"branch",[{key:"Ahmedabad",val:"Ahmedabad"},{key:"Odhav",val:"Odhav"}]),_defineProperty(i,"propertyFloorPlans",[]),_defineProperty(i,"propertyType",y),_defineProperty(i,"commercialPropertyType",u),_defineProperty(i,"pgPropertyTypes",g),_defineProperty(i,"sqft"+r,t.getUnitTypes("sqft")),_defineProperty(i,"sqft",[]),_defineProperty(i,"plotSqft"+r,t.getUnitTypes("plotSqft")),_defineProperty(i,"plotSqft",[]),_defineProperty(i,"status",[{key:"readyToMoveIn",val:"Ready To Move In"},{key:"underConstruction",val:"Under Construction"}]),_defineProperty(i,"bed",d),_defineProperty(i,"studioBed",p),_defineProperty(i,"pgBed",d.slice(1)),_defineProperty(i,"Ac",s),_defineProperty(i,"TV",s),_defineProperty(i,"Wardrobe",s),_defineProperty(i,"bedroom",s),_defineProperty(i,"bathroom",c),_defineProperty(i,"balconies",c),_defineProperty(i,"howMany",s),_defineProperty(i,"howMany2",s),_defineProperty(i,"f-no",["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"]),_defineProperty(i,"total-f",["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"]),_defineProperty(i,"openSide",["1","2","3","4"]),_defineProperty(i,"Facing",["North","South","West","East","NorthEast","NorthWest","SouthEast","SouthWest"]),_defineProperty(i,"ft",["feet","meters"]),_defineProperty(i,"propertyAge",["Less than 1 year","1 year","2 years","3 years","4 years","5 years","6 years","7 years","8 years","9 years","10 years","11 years","12 years","13 years","14 years","15 years","16 years","17 years","18 years","19 years","20 years","21 years","22 years","23 years","24 years","25 years","26 years","27 years","28 years","29 years","30 years","31 years","32 years","33 years","34 years","35 years","36 years","37 years","38 years","39 years","40 years","41 years","42 years","43 years","44 years","45 years","46 years","47 years","48 years","49 years","50 years"]),_defineProperty(i,"ownershipType",["Freehold","Power of Attorney","Leasehold","Co-Operative Society"]),_defineProperty(i,"mLiving",l),_defineProperty(i,"kitchen",l),_defineProperty(i,"mBedroom",l),_defineProperty(i,"mBathroom",l),_defineProperty(i,"mBalcony",l),_defineProperty(i,"mOther",l),_defineProperty(i,"imageTagsArray",m),_defineProperty(i,"imageTag",[]),_defineProperty(i,"rejectReason",[{key:"Duplicate listings",val:"Duplicate listings"},{key:"Once duplicate listing will not go live",val:"Once duplicate listing will not go live"},{key:"Area issue",val:"Area issue"},{key:"Price issue",val:"Price issue"},{key:"Commercial, PG, Farmhouse, Agricultural land",val:"Commercial, PG, Farmhouse, Agricultural land"},{key:"Bed/Bath room mismatch",val:"Bed/Bath room mismatch"},{key:"Customer escalation",val:"Customer escalation"},{key:"Property not available",val:"Property not available"},{key:"Developer has raised issue",val:"Developer has raised issue"},{key:"Area, Price not available in project",val:"Area, Price not available in project"},{key:"Description not relevant to listing posted",val:"Description not relevant to listing posted"},{key:"Property Type seems to be incorrect",val:"Property Type seems to be incorrect"},{key:"Locality appears to be incorrect",val:"Locality appears to be incorrect"},{key:"other",val:"Other"}]),_defineProperty(i,"masterFlooringId",[{key:1,value:"Vitrified Tiles"},{key:2,value:"Ceramic Porcelain Tiles"},{key:3,value:"Anti Skid Tiles"},{key:4,value:"Marble Granite Tiles"},{key:5,value:"Wooden flooring"},{key:6,value:"RAK/laminated wooden flooring"},{key:10,value:"Wood Finish Vinyl Flooring"}]),_defineProperty(i,"flooringAreaId",[{key:6,value:"mBalcony"},{key:7,value:"kitchen"},{key:8,value:"mLiving"},{key:9,value:"mBedroom"},{key:10,value:"mOther"},{key:11,value:"mBathroom"}]),_defineProperty(i,"additionalRoomMap",{storeRoom:"store-room",studyRoom:"study-room",poojaRoom:"prayer",servantRoom:"servant-room"}),_defineProperty(i,"imageRejectionReason",[]),_defineProperty(i,"stateList"+r,t.getStateList()),_defineProperty(i,"stateList",[]),_defineProperty(i,"hostelTotalRooms",["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"]),_defineProperty(i,"mapKeyFromMasterList",function(e,t){var a={}.toString.call(t);switch(a){case"[object String]":case"[object Number]":return this.getArrField(e,t);case"[object Object]":return this.getArrField(e,t.key);case"[object Array]":for(var i=[],o=0;o<t.length;o++){var n=this.getObjField(e,t[o]);i.push(n)}return i}}),_defineProperty(i,"findFirst",function(e,t){if(!t&&!e)return null;if(!t)return{};for(var a=0;a<e.length;a++)if(e[a].key==t)return e[a];return{key:t,val:t}}),_defineProperty(i,"getField",function(e,t){return this.findFirst(this[e],t)}),_defineProperty(i,"getObjField",function(e,t,a){var i=a?a:e,o=f.getMapVal(i,t);return this.getField(i,o)}),_defineProperty(i,"getArrField",function(e,t){var a=this.getObjField(e,t),i=[];return i.push(a),i}),_defineProperty(i,"listingSubtype",[{key:"residential",val:"Residential"},{key:"commercial",val:"Commercial"},{key:"payingGuest",val:"Paying Guest"}]),_defineProperty(i,"currentlyLeasedOut",[{key:"yes",val:"Yes"},{key:"no",val:"No"}]),_defineProperty(i,"assuredReturn",[{key:"yes",val:"Yes"},{key:"no",val:"No"}]),_defineProperty(i,"pantryType",[{key:"DRY",val:"Dry"},{key:"WET",val:"Wet"},{key:"NOT_AVAILABLE",val:"Not Available"}]),_defineProperty(i,"noOfPersonalWashrooms",["1","2","3","4","5","6","7","8","9","10"]),_defineProperty(i,"noOfSharedWashrooms",["1","2","3","4","5","6","7","8","9","10"]),_defineProperty(i,"willingToModifyInteriors",[{key:"yes",val:"Yes"},{key:"no",val:"No"}]),_defineProperty(i,"propertyAgeCommercial",["Less than 1 year","1 year","2 years","3 years","4 years","5 years","6 years","7 years","8 years","9 years","10 years","11 years","12 years","13 years","14 years","15 years","16 years","17 years","18 years","19 years","20 years","21 years","22 years","23 years","24 years","25 years","26 years","27 years","28 years","29 years","30 years","31 years","32 years","33 years","34 years","35 years","36 years","37 years","38 years","39 years","40 years","41 years","42 years","43 years","44 years","45 years","46 years","47 years","48 years","49 years","50 years"]),_defineProperty(i,"isMainRoadFacing",[{key:"yes",val:"Yes"},{key:"no",val:"No"}]),_defineProperty(i,"isCornerShop",[{key:"yes",val:"Yes"},{key:"no",val:"No"}]),_defineProperty(i,"isBoundryWallPresent",[{key:"yes",val:"Yes"},{key:"no",val:"No"}]),_defineProperty(i,"noOfLifts",["1","2","3","4","5","6","7","8","9","10"]),_defineProperty(i,"propertySuitableFor",[{key:"HOSPITAL",val:"Hospital"},{key:"IT_OFFICE",val:"IT Office"},{key:"BPO",val:"Call Center/BPO"},{key:"RETAIL_OUTLET",val:"Retail Outlet"},{key:"RESTAURANT",val:"Restaurant"},{key:"PRIVATE_OFFICE",val:"Private Office"},{key:"OTHERS",val:"Others"}]),_defineProperty(i,"cuisineType",[{key:"1",val:"Vegeterian"},{key:"2",val:"Non- Vegeterian"},{key:"3",val:"South Indian"},{key:"4",val:"North Indian"},{key:"5",val:"Jain Food"}]),_defineProperty(i,"timingRestrictions",[{key:"yes",val:"Yes"},{key:"no",val:"No"}]),_defineProperty(i,"visitorRestrictions",[{key:"Visitors Allowed",val:"Visitors Allowed"},{key:"Visitors Not Allowed",val:"Visitors Not Allowed"},{key:"No Overnight Stay",val:"No Overnight Stay"}]),_defineProperty(i,"noticePeriod",[{key:"15 days",val:"15 days"},{key:"1 month",val:"1 month"},{key:"2 months",val:"2 months"}]),_defineProperty(i,"parkingAvailable",[{key:"no",val:"No"},{key:"yes",val:"Yes"}]),_defineProperty(i,"lastEntryTime",[{key:"00:00:00",val:"12:00 am"},{key:"23:30:00",val:"11:30 pm"},{key:"23:00:00",val:"11:00 pm"},{key:"22:30:00",val:"10:30 pm"},{key:"22:00:00",val:"10:00 pm"}]),_defineProperty(i,"preferredTenant",[{key:"Male",val:"Male"},{key:"Female",val:"Female"},{key:"Both",val:"Both"}]),_defineProperty(i,"workPreference",[{key:"Student",val:"Student"},{key:"Salaried",val:"Salaried"},{key:"Businessmen",val:"Businessmen"},{key:"No Preference",val:"All"}]),_defineProperty(i,"otherPreference",[{key:"Only Vegetarians",val:"Only Vegetarians"},{key:"Alcohol Not Allowed",val:"Alcohol Not Allowed"},{key:"Pets Allowed",val:"Pets Allowed"}]),i),b=function(e){var t=[],a={}.toString;if(!e)return t;var i=a.call(e[0]);if("[object Object]"==i)return e;for(var o=0;o<e.length;o++){var i=a.call(e[o]),n={};switch(i){case"[object Array]":n.key=e[o][0],n.val=e[o][1];break;case"[object Object]":n=e[o];break;case"[object String]":case"[object Number]":n.key=e[o],n.val=e[o];break;default:n.key=v.key,n.val=v.val}t.push(n)}return t};return{get:function(e){return n[e]},getAll:function(){return n},set:function(e,t){var a=n[e];if(t||0==t?n[e]=t:this.reset(e,t),n.listeners[e])for(var i=0;i<n.listeners[e].length;i++){var r={};r.data=n.listeners[e][i].data,r.id=e,r.oldVal=a,r.newVal=t,n.listeners[e][i].callBack(r)}var l={};l[e]=t,a!=t&&o.storeData(l)},reset:function(e,t){delete n[e]},resetAll:function(){n={}},getMasterList:function(e){return b(k[e])},getRestrictedList:function(e,t){var i=b(k[e]),o=a(i,t);return o},convertKeyValues:function(e){return b(e)},getDynamicMasterList:function(e){return k[e+r].then(function(t){return k[e]=t,t})},addListener:function(e){var t;n.listeners[e.id]?t=n.listeners[e.id]:(n.listeners[e.id]=[],t=n.listeners[e.id]),t.push({callBack:e.handler,data:e.data})},removeListener:function(e){var t=n.listeners[e.id];t&&(n.listeners[e.id]=t.filter(function(t){return!(t.callBack===e.handler||t.data===e.data||t.callBack&&e.handler&&t.callBack.toString()===e.handler.toString()||t.data&&e.data&&t.data.toString()===e.data.toString())}))},fieldsMap:k,NA:v}}),Box.Application.getService("controlsService")}),define("services/listingMetaService",["services/apiService","services/sellerService","services/utils"],function(e,t,a){var i="ListingMetaService";return Box.Application.addService(i,function(){var t={listingsMeta:"/xhr/sellerListing/meta"},i={Owner:3},o=function(){return e.get(t.listingsMeta)},n=function(e){return o().then(function(t){var o=t.totalCount||0,n=a.getParameterByName("listingid");return n&&o<=i[e]?!1:o>=i[e]})};return{ifQuotaFull:n}}),Box.Application.getService(i)}),define("services/trackingDataService",["services/utils"],function(){return Box.Application.addService("trackingDataService",function(e){var t={dashboard:{esRespondNow:{action:"respond now",label:"enquiry summary"},packageUtilizationTracking:{promoCardSeen:{category:"Promo Card",action:"Card Seen"},promoCardClick:{category:"Promo Card",action:"Card Click"}},lsRejected:{action:"rejected",label:"listing summary"},lsExpired:{action:"expired",label:"listing summary"},lsActive:{action:"active",label:"listing summary"},lsWithoutImages:{action:"without images",label:"listing summary"},lsUnderReview:{action:"under review",label:"listing summary"},psPayNow:{action:"pay now",label:"payment summary"},mtMarkTransaction:{action:"mark transaction",label:"mark transaction"},mtFeeModalOpen:{action:"fee modal open",label:"mark transaction"},sbBuilderLeadOobi:{action:"builder_lead_oobi",label:"sidebar"},sbBuilderLeadDatalabs:{action:"builder_lead-datalabs",label:"sidebar"},sbBuilderLeadDc:{action:"builder_lead-dc",label:"sidebar"},sbFeeModalOpen:{action:"fee modal open",label:"sidebar"},sbFeeModalClose:{action:"fee modal close",label:"sidebar"},sbFeeModalSwitch:{action:"fee modal switch",label:"sidebar"},virtualNumberScroll:{action:"virtual number scroll",label:""},pUpdateUserPhone:{action:"phone no edit",label:""},pUpdateUserEmail:{action:"email edit",label:""},pUpdateUserName:{action:"profile name edit",label:""},pUpdateUserType:{action:"profile type edit",label:""},pUpdateUserCmpName:{action:"company name edit",label:""},pUpdateUserPic:{action:"profile pic edit",label:""},pUpdateUserPhoneDone:{action:"seller phone changed",label:""},pUpdateUserEmailDone:{action:"seller email changed",label:""},pUpdateUserNameDone:{action:"seller name changed",label:""},pUpdateUserTypeDone:{action:"profile type changed",label:""},pUpdateUserCmpNameDone:{action:"seller agency name changed",label:""},pUpdateUserPicDone:{action:"profile pic changed",label:""},pNightCallSelected:{action:"night call selected",label:""},pNightCallDeselected:{action:"night call deselected",label:""},pMakaanHousingPortingEligible:{action:"porting_flag_seen",label:""},pMakaanHousingPortingSelected:{action:"porting_flag_clicked",label:"optin"},pMakaanHousingPortingDeselected:{action:"porting_flag_clicked",label:"optout"},geKnowMore:{action:"fee modal open",label:"guaranteed-enquiries"},gePayNow:{action:"pay now",label:"guaranteed-enquiries"},geMarkTransaction:{action:"mark transaction",label:"guaranteed-enquiries"},unreadRespondNow:{action:"click",category:"unread",label:""},festivalOffer:{action:"click",category:"offer",label:""},"repost-listing":{action:"multi_repost_dashboard_link"}},listingManagement:{lsChangeStart:{action:"lead status change start",label:"{DYN}"},lsChangeDone:{action:"lead status changed",label:"{DYN}"}},reportingModal:{rmLeadSelected:{action:"lead selected",label:""},rmLeadUnselected:{action:"lead unselected",label:""},rmTransactionReport:{action:"mark successful",label:""},rmUserTyped:{action:"search typed",label:""},rmSaleTypeRentChanged:{action:"rent filter",label:""},rmSaleTypeSellChanged:{action:"sell filter",label:""},rmCityChanged:{action:"city filter",label:""},rmClose:{action:"mark deal modal close",label:""}},paymentModal:{pmChequeSubmit:{action:"cheque submit",label:""},pmPayOnline:{action:"pay amount",label:""},pmPayPaytm:{action:"paytm amount",label:""},pmLeadUnselected:{action:"lead unselected",label:""},pmPayOnlineSelected:{action:"pay online selected",label:""},pmChequePaySelected:{action:"cheque payment selected",label:""},pmNeftSelected:{action:"NEFT option selected",label:""},pmPaytmSelected:{action:"PayTM option selected",label:""},pmClose:{action:"payment modal close",label:""}},penalizedSellerPopup:{open:{action:"penalized modal viewed",label:"",category:"penalizedSellerPopup"},reportNow:{action:"penalized report now",label:"",category:"penalizedSellerPopup"},payNow:{action:"penalized pay now",label:"",category:"penalizedSellerPopup"},close:{action:"penalized modal close",label:"",category:"penalizedSellerPopup"},requestRemoval:{action:"penalizes modal CTA changed",label:"",category:"penalizedSellerPopup"}},sellerDetail:{rbSellerScore:{action:"seller score details viewed",label:"",category:"sellerDetail"},Update_Image:{action:"Click",label:"LHS_profile_imageUpdate",category:"Engagement"},Update_Profile_Image:{action:"Click",label:"Profile_imageUpdate",category:"Information"},"score-tooltip":{action:"Mouse_Hover",label:"Seller_Score",category:"Information"},"response-tooltip":{action:"Mouse_Hover",label:"Response",category:"Information"},"property-tooltip":{action:"Mouse_Hover",label:"Property_Options",category:"Information"},"feedback-tooltip":{action:"Mouse_Hover",label:"Customer_Feedback",category:"Information"},"deals-closed-tooltip":{action:"Mouse_Hover",label:"Deals_Disclosed",category:"Information"},"improve-topSellers":{action:"Click",label:"Improve_Rank_Top_10_Sellers",category:"Engagement"},"improve-score-explained":{action:"Click",label:"Improve_Rank_Seller_Score",category:"Engagement"},"improve-response-tooltip":{action:"Click",label:"Improve_Rank_Response",category:"Information"},"improve-property-tooltip":{action:"Click",label:"Improve_Rank_Property_Options",category:"Engagement"},"improve-feedback-tooltip":{action:"Click",label:"Improve_Rank_Customer_Feedback",category:"Engagement"},"improve-deals-closed-tooltip":{action:"Click",label:"Improve_Rank_Deals_Disclosed",category:"Engagement"},"score-detail":{action:"Click",label:"Seller_Score",category:"Engagement"},"topSeller-detail":{action:"Click",label:"Top_10_Sellers",category:"Engagement"},edit_property_images:{action:"Click",label:"Property_Image",category:"Upload"},add_property_images:{action:"Click",label:"Add_Property_Image",category:"Upload"},show_More:{action:"Click",label:"Show_More",category:"Engagement"},view_review:{action:"Click",label:"Reviews",category:"Engagement"},view_rating:{action:"Click",label:"Feedback",category:"Engagement"},add_more_images:{action:"Click",label:"Images",category:"Engagement"},report_more:{action:"Click",label:"Report_Deals",category:"Engagement"},view_enquiries:{action:"Click",label:"Report_Enquiries",category:"Engagement"},add_property:{action:"Click",label:"Property",category:"Engagement"},"edit-profile":{action:"Click",label:"EDIT_PROFILE",category:"Engagement"},"upgrade-badge":{action:"Click",label:"UPGRADE_BADGE",category:"Engagement"},update_badge:{action:"Click",label:"Expert_Badge",category:"Engagement"},how_to_improve:{action:"Click",label:"Improve_Card",category:"Engagement"},city_rank:{action:"Click",label:"City_Rank",category:"Engagement"}},dealMakerModal:{viewSample:{action:"View Sample",label:""},reportNowDealMaker:{action:"report_now_exdeal_maker",label:"",category:"package"},reportNowExpertdealMaker:{action:"report now",label:"",category:"package"},payNowDealMaker:{action:"pay_now_deal_maker",label:"",category:"package"},payNowExpertDealMaker:{action:"pay_now_exdeal_maker",label:"",category:"package"}},prepayment:{modify:{action:"modify_prepaid_deals",label:""},add:{action:"Add_prepaid_deals",label:""},paynow:{action:"paynow",label:""},addToCart:{action:"Add_to_bucket",label:""},checkout:{action:"Checkout",label:""}},suspension:{viewed:{action:"suspension modal viewed",label:""},removeSuspension:{action:"suspension remove action",label:""},paynow:{action:"suspension pay now action",label:""},contact:{action:"suspension contact action",label:""},contactSuccess:{action:"suspension contact submit success",label:""},close:{action:"suspension modal close",label:""},CONFIG:{LABELS:{TO_BE_SUSPENDED:"to be suspended",SUSPENDED:"suspended",RE_ACTIVE:"reactive"}}},accountLocked:{viewed:{action:"accountLock modal viewed",label:""},removeLocking:{action:"accountLock remove action",label:""},paynow:{action:"accountLock pay now action",label:""},contact:{action:"accountLock contact action",label:""},contactSuccess:{action:"accountLock contact submit success",label:""},close:{action:"accountLock modal close",label:""},CONFIG:{LABELS:{ACCOUNT_LOCKED:"account lock"}}},housingSeller:{viewed:{action:"housingSeller modal viewed",label:""},removeLocking:{action:"housingSeller remove action",label:""},paynow:{action:"housingSeller pay now action",label:""},contact:{action:"housingSeller contact action",label:""},contactSuccess:{action:"housingSeller contact submit success",label:""},close:{action:"housingSeller modal close",label:""},CONFIG:{LABELS:{HOUSING_SELLER:"housing seller"}}},listingRepost:{repost:{category:"Repost Exercise",action:"No Login Confirmed Repost All"},later:{category:"Repost Exercise",action:"No Login Denied Repost All"}},multiListingRepost:{selectAll:{category:"Seller_Listing Management",action:"multiple listing selected"},UnSelectAll:{category:"Seller_Listing Management",action:"multiple listing un-selected"},singleSelected:{category:"Seller_Listing Management",action:"single listing selected"},singleUnSelected:{category:"Seller_Listing Management",action:"single listing un-selected"},pageLoaded:{category:"Seller_Listing Management",action:"all listings shown"},singleRepost:{category:"Seller_Listing Management",action:"repost single listing"},bulkRepost:{category:"Seller_Listing Management",action:"repost multiple listing"},repostSuccess:{category:"Seller_Listing Management",action:"repost success"},reportFailed:{category:"Seller_Listing Management",action:"repost failure"}},listingCard:{id:{action:"CLICK Listing ID",label:""},enquiries:{action:"click_enquiry",label:"click_enquiry"},edit:{action:"click_edit_listing",label:"edit_listing"},deleteListing:{action:"click_delete_listing",label:""},confirmDeleteListingYes:{action:"click_delete_listing_confirmation",label:"delete_listing_confirm_yes"},confirmDeleteListingNo:{action:"click_delete_listing_confirmation",label:"delete_listing_confirm_no"},viewLive:{action:"click_view_live",label:"view_live"},editRejected:{action:"click",label:"rejected_edit"},repostListing:{action:"click_repost_listing",label:""},repostListingConfirmed:{action:"click_repost_listing_confirm",label:""},ownerEnquiries:{action:"activated benefits view enquiries live",category:"owner monetization"},ownerViewLive:{action:"activated benefits view property live",category:"owner monetization"}},selectProgram:{eligibleCardSeen:function(e){return{category:this.category,action:"Card Seen",label:"Select Eligible Card "+e}},activatedCardSeen:function(e){return{category:this.category,action:"Card Seen",label:"Select Activated Card "+e}},knowMoreClick:{action:"Click",label:"Know More"},redeemWalletClicked:{action:"Click",label:"Redeem Wallet"},knowMoreCtaClick:function(e){return{category:this.category,action:"Click",label:"Know More CTA"+e}},knowMoreModalClosed:{action:"Modal Closed",label:"Know More Modal Closed"},addToWalletClicked:{action:"Click",label:"Pending Request Card Dashboard"},confirmCouponRequest:{action:"Click",label:"Confirm Coupon Request"},denyCouponRequestMain:{action:"Click",label:"Deny Coupon Request Main"},denyCouponRequest:{action:"Click",label:"Deny Coupon Request"},denyCouponYes:{action:"Click",label:"Deny Coupon Request Yes"},denyCouponNo:{action:"Click",label:"Deny Coupon Request No"}}},a=function(e,a){var i=t[e];return i?(e=a?a:e,$.each(i,function(t,a){"function"==typeof a?i[t]=a.bind({category:e}):i[t].category||(i[t].category=e)})):!1},i=function(e,t){var i=a(t);if(!i)return!1;var o=i[e];return o?o:!1};return{getModEvents:a,getModEventItem:i}}),Box.Application.getService("trackingDataService")}),define("scripts/behaviours/listPropertyBehaviour",["services/listingMetaService","services/sellerService","services/trackingDataService"],function(e,t,a){Box.Application.addBehavior("listPropertyBehaviour",function(a){var i,o,n,r,l=a.getGlobal("jQuery"),s=Box.Application.getService("trackingDataService"),c=s.getModEvents("dashboard"),d=5e3,p={listingQuotaFull:{message:"Hey! you have exhausted your share of listings as an owner",id:"listingDialog",actionOneCallback:"listingQuotaFull"}},y={ownerQuotaFull:{action:"click_quotafull_owner",category:"Seller_Listing Management",label:"owner_quotafull"},ownerQuotaFullOnLoad:{action:"listing_quotafull_owner",category:"Seller_Listing Management",label:"owner_quotafull"},add:{action:"click_start_listing",category:"Listing_Upload",label:"start_listing"},ownerAdd:{action:"add first property",category:"owner monetization"}};return{messages:["listingQuotaFull","listingQuotaFullCheck"],init:function(){i=a.getService("controlsService"),n=a.getService("notificationService"),o=a.getService("gaTracking"),r=a.getService("overlay")},destroy:function(){i=null},onmessage:function(t,a){switch(t){case"listingQuotaFull":r.hideOverlay(),o.track(y.ownerQuotaFull);break;case"listingQuotaFullCheck":var l=i.get("sellerType");l&&"Owner"===l&&e.ifQuotaFull(l).then(function(e){if(e){var t=Object.assign({},p.listingQuotaFull,{title:"",isButtonReqd:"no",alwaysShow:a.alwaysShow||!1,alwaysVisible:a.alwaysShow||!1});o.track(y.ownerQuotaFullOnLoad),Box.Application.broadcast("dialog",t)}},function(e){n.show(error,"",d)})}},onclick:function(r,s,u){switch(u){case"list-property":r.preventDefault(),s.dataset&&"packageUtilisation"==s.dataset.tracktype&&("false"==s.dataset.zerolisting?c.packageUtilizationTracking.promoCardClick.label=s.dataset.selltype+" Boost":c.packageUtilizationTracking.promoCardClick.label=s.dataset.selltype+" Zero Listings",o.track(c.packageUtilizationTracking.promoCardClick));var g=i.get("sellerType"),v=i.get("sellerId"),m=s.dataset&&"true"==s.dataset.nolisting;l(s);"Owner"==g&&m?o.track(y.ownerAdd):o.track(y.add),t.checkSellerPenalisation(v,!0).then(function(t){t.isPenalized?a.broadcast("penalizedSellerAction",t):g&&"Owner"===g?e.ifQuotaFull(g).then(function(e){e?Box.Application.broadcast("dialog",p.listingQuotaFull):window.location.href=l(s).prop("href")},function(e){n.show(error,"",d)}):window.location.href=l(s).prop("href")})}}}})}),define("services/gaTrackingService",["common/utilFunctions"],function(e){var t="gaTrackingService";return Box.Application.addService(t,function(t){function a(){var e=m.getQueuedItems({clearQueue:!0});for(var t in e)n(e[t].event,e[t].properties)}function i(){if(y){p=!0;for(var e in y)g("set",s[e],y[e])}}function o(){"function"==typeof g?(a(),i()):setTimeout(o,c)}function n(e,t){"function"==typeof g?(l([e,t]),g("send","event",t.category,e,t.label,t.value||void 0)):(m.addToQueue({event:e,properties:t}),u||(u=!0,o()))}function r(e){y=e,"function"!=typeof g?u||(u=!0,o()):i()}function l(e,t){(d||t)&&("string"==typeof e?console.log(e):console.log.apply(console,e))}var s={sellerId:"dimension3",sellerType:"dimension2",listingSubtype:"dimension68",propertyType:"dimension72"},c=2e3,d=!1,p=!1,y=void 0,u=!1,g=window.ga,v=e.getAllQueryStringParam();v.GA_DEBUG&&(d=!0);var m=new e.MessageQueue({type:"ga-events"});return{trackEvent:n,setIdentity:r}}),Box.Application.getService(t)}),define("services/amplitudeTrackingService",["common/utilFunctions"],function(e){var t="amplitudeTrackingService";return Box.Application.addService(t,function(){function t(){var e=s.getQueuedItems({clearQueue:!0});for(var t in e)i(e[t].event,e[t].properties)}function a(e){require(["amplitude"],function(a){a&&e.amplitudeTrackingId&&(a.getInstance().init(e.amplitudeTrackingId),l=a,t())})}function i(e,t){"undefined"!=typeof l&&"function"==typeof l.getInstance?(r([e,t]),l.logEvent(e,t)):s.addToQueue({event:e,properties:t})}function o(e){"undefined"!=typeof l&&"function"==typeof l.getInstance&&(l.getInstance().setUserId(e.sellerId),l.getInstance().setUserProperties(e))}function n(e,t){var a={url:document.location.href,path:document.location.pathname};i("pageview",a)}function r(e,t){(c||t)&&("string"==typeof e?console.log(e):console.log.apply(console,e))}var l,s;s=new e.MessageQueue({type:"amplitude"});var c=!1,d=e.getAllQueryStringParam();return d.AMPLITUDE_DEBUG&&(c=!0),{trackEvent:i,setIdentity:o,firePageView:n,loadTracking:a}}),Box.Application.getService(t)}),
define("services/irisTrackingService",["common/utilFunctions","common/sharedConfig","services/apiService"],function(e,t,a){"use strict";var i="IRISTrackingService";return Box.Application.addService(i,function(){function t(t){e.setcookie("iris_id",t,c,d.toGMTString())}function a(){var a=e.getCookie("iris_id");return a||(a=e.getCookie("ajs_anonymous_id"),a=a?a.replace(/%22/g,""):e.uuidGenerator(),t(a)),a}function i(t,i){l||(l=a());var o=location.hostname.split(".");o.pop(),o.pop(),{message:[{messageId:e.uuidGenerator(),anonymousId:l,event:t,properties:i,url:document.location.href,path:document.location.pathname,title:document.title,userAgent:navigator.userAgent,ip:e.getCookie("USER_IP"),timestamp:Date.now(),userId:r,projectId:window.IRIS_PROJECT_ID}]}}function o(e,t){var a={url:document.location.href,path:document.location.pathname};i("pageview",a)}function n(e){r=e}var r,l,s=e.getSubdomain(),c=window.location.host;c=s?c.replace(s,""):"."+c;var d=new Date(Date.now()+31536e6);return{trackEvent:i,firePageView:o,setIdentity:n}}),Box.Application.getService(i)}),define("modules/gaTracking/scripts/services/gaTracking",["services/utils","services/gaTrackingService","services/amplitudeTrackingService","services/irisTrackingService"],function(e,t,a,i){return Box.Application.addService("gaTracking",function(){function e(e){r("setIdentity",[e])}function o(){r("firePageView")}function n(e){r("loadTracking",[e])}function r(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];for(var a in l)"function"==typeof l[a][e]&&l[a][e].apply(l[a],t)}var l={ga:t,amplitude:a,iris:i},s=[],c=[],d=[],p=!1,y=Box.Application.getService("Utils"),u=function(e,t,a,i){return"scroll"!==e?void t.on(e,function(){f(a)}):(s.push(i),t.length>0&&c.push(t.offset().top),d.push(a),void(window.onscroll=function(){for(var e=$(window).scrollTop(),t=0;t<c.length;t++)e>c[t]+s[t]&&e<c[t]+s[t]+50&&f(d[t])}))},g=function(e,t,a,i){m(e,t,a,i),v(e,t,a,i)},v=function(e,t,a,i){t.on(e,function(){return t[0].currentTime>=t[0].duration/2&&!p?(a.label="half",void f(a)):void(t[0].currentTime<t[0].duration/2&&(p=!1))})},m=function(e,t,a,i){t.on(e,function(){t[0].currentTime===t[0].duration&&(a.label="full",f(a))})},f=function(e){var t=y.getDeviceType(),a=e.label,i=e.action;t&&!e.noDeviceType&&(a=t+"_"+a,i=t+"_"+i);var o={category:e.category,label:a};e.value&&(o.value=e.value),r("trackEvent",[i,o])};return{trackSection:function(e,t,a,i){return u(e,t,a,i)},trackVideo:function(e,t,a,i){return g(e,t,a,i)},trackVideoDurationFull:function(e,t,a,i){return m(e,t,a,i)},track:function(e){return f(e)},setIdentity:e,firePageView:o,loadAllTracking:n}}),Box.Application.getService("gaTracking")}),define("modules/listProperty/scripts/index",["text!modules/listProperty/views/index.html","modules/controls/scripts/controlsService","services/apiService","scripts/behaviours/listPropertyBehaviour","services/utils","modules/gaTracking/scripts/services/gaTracking","services/localStorageService"],function(e){Box.Application.addModule("listProperty",function(t){function a(e){var t=_.getValue(e,"sellerData.company.cityId"),a=k.get("sellerType");return new Promise(function(i,o){t&&a?i({cityId:t,sellerType:a}):p.get("/xhr/userService/sellerDetails?id="+e.id).then(function(e){e=e.data,e&&e.length&&(t=e[0].companyUser.company.cityId,a=e[0].sellerType,i({cityId:t,sellerType:a})),o(e)},function(e){o(e)})})}function i(){var e=_.getParameterByName("deviceType");return e?(e=e.split("_"),e.length>1?e[1]:null):null}function o(){var e=k.get("sellerId"),t=k.get("listingSubtype");y.setIdentity({sellerId:e,listingSubtype:t,DeviceVersion:i()}),_.getDeviceType()&&y.track(h.addProperty)}var n,r,l,s,c,d,p,y,u,g,v,m,f,k,b,_=Box.Application.getService("Utils"),S=["ListingImageScreener","ListingContentAuditor","MarketplaceAuditor"],h={addProperty:{action:"click_start_listing",category:"Listing_Upload",label:"start_listing"},imageAdded:{action:"Listing Submit with Images",category:"Listing Upload"},imageDeleted:{action:"Image Deleted",category:"Listing Upload"}},P=function(e){e&&Box.Application.stop(document.getElementById(e))},w=function(e,t){if(e){var a={messageData:[{parent:"listProperty",name:e,loadId:t||e}],message:"loadModule"};s.initializeCallbacks({data:a})}},C=function(e,t,a){var i=a[t].start,o=a[t].stop;w("function"==typeof i?i():i),P("function"==typeof o?o():o)},A=function(){s.loadNewModules(e,n.id),b=d.getUrlParameter("listingid"),k.set("listingid",b),w(c.isMobile&&!b?"home":"localityProject")},T=function(){var t=k.get("device"),a=k.get("isScreening"),i=doT.template(e);return i=i({device:t,sellerId:c.userData.id,isScreening:a})},I=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];if(e)for(var t=0;t<e.length;t++)if(S.indexOf(e[t])>-1)return void k.set("roleOfUser",e[t])},M=function(){var e=k.get("roleOfUser"),t=k.get("device");"desktop"===t&&S.indexOf(e)>-1&&k.set("isScreening",!0)};return{behaviors:["listPropertyBehaviour"],init:function(){c=t.getConfig(),d=t.getService("Utils"),n=t.getElement(),r=t.getGlobal("jQuery"),l=r(n),s=t.getService("CommonService"),p=Box.Application.getService("ApiService"),k=t.getService("controlsService"),y=t.getService("gaTracking"),u=t.getService("localStorageService"),0!==c.sellerId&&k.set("sponsorId",c.sellerId),k.set("sellerId",c.userData.id),k.set("date",new Date(c.date)),k.set("listingInitialTime",Date.now()),k.set("buyerUrl",c.buyerUrl),k.set("osmTileUrl",c.osmTileUrl),k.set("GMAP_KEY",c.GMAP_KEY),I(c.userData.roles),c.isMobile?k.set("device","mobile"):k.set("device","desktop"),g=u.getItem("seller_detail"),v=c.commercialEnabledCities&&c.commercialEnabledCities.split(",")||[],m=c.pgEnabledCities&&c.pgEnabledCities.split(",")||[],k.set("enableCommercial",!c.isMobile&&g&&g.companyUser&&g.companyUser.company&&g.companyUser.company.cityId&&-1!==v.indexOf(g.companyUser.company.cityId.toString())||!1),k.set("enablePG",!c.isMobile&&g&&g.companyUser&&g.companyUser.company&&g.companyUser.company.cityId&&-1!==m.indexOf(g.companyUser.company.cityId.toString())||!1),M(),o(),l.append(T()),A(),t.broadcast("moduleLoaded",{name:"listProperty"}),a(c.userData).then(function(e){k.set("userCityId",e.cityId),k.set("sellerType",e.sellerType),t.broadcast("listingQuotaFullCheck",{alwaysShow:!0})},function(e){})},destroy:function(){Box.Application.stop(document.getElementById("localityProject")),Box.Application.stop(document.getElementById("adress")),Box.Application.stop(document.getElementById("imageUpload")),Box.Application.stop(document.getElementById("score")),Box.Application.stop(document.getElementById("home")),f=null,c=null,d=null,k=null,p=null},messages:["moveListpropertyModule","startModule","stopModule","track_update","addMoreImages"],onmessage:function(e,t){switch(e){case"moveListpropertyModule":C(t.currentModule,t.action,t.moduleMap);break;case"startModule":w(t.name,t.id);break;case"stopModule":P(t.name);break;case"track_update":if(t.deletedMedia){var a=h.imageDeleted;a.label=b+"-"+JSON.stringify(t.deletedMedia),y.track(a)}if(t.allMedia){var a=h.imageAdded;a.label=b+"-"+t.allMedia,y.track(a)}break;case"addMoreImages":r("html, body").animate({scrollTop:r(".js-image-upload").position().top},1e3)}}}})});